<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>kata: Model Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Model Class Reference</h1><!-- doxytag: class="Model" --><div class="dynheader">
Inheritance diagram for Model:</div>
<div class="dynsection">
<p><center><img src="class_model__inherit__graph.png" border="0" usemap="#_model__inherit__map" alt="Inheritance graph"></center>
<map name="_model__inherit__map">
<area shape="rect" id="node3" href="class_app_model.html" title="AppModel" alt="" coords="5,83,85,111"><area shape="rect" id="node5" href="class_cluster_model.html" title="ClusterModel" alt="" coords="109,83,205,111"></map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center></div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#3816d265bfef1d18d727778688b2a53e">dbo</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#0afca794c3ee242f4dda4bfaef66ea45">changeConnection</a> ($connName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#628300eb8464467d9344c7c59cc8770b">getConfig</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#bea978f4dcd47c4289232744d3ed2f01">getLink</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#7a333affb97cf092d50f3e59edaa9066">getPrefix</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#bad8bfcc130c60a011eabc55fb4b46b8">query</a> ($s, $idname=false)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#197431c3435ac36b3b8d4e8cd91f9e0c">cachedQuery</a> ($s, $idname=false, $cacheid=false, $ttl=0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#fe17727dd4f641849f47b070f3e9724a">escape</a> ($s)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#33e9e275015bbe6428685db57649c7f4">quote</a> ($s)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#c0e0745bf8d7566f7e22118e559fceba">makeDateTime</a> ($t)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#44f869ba0a560a6089398551319eb5b0">log</a> ($what, $where)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#b8f824a32b3f00dfe99405faa7893836">pairs</a> ($params)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#b01b08c026b6b4a0485a65ed094f3933">getWhereString</a> (&amp;$id, $tableName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#ab5a8f5a18c184c66f4f05543c6af5c8">getWhereStringHelper</a> (&amp;$id, $tableName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#2984c89b630bae5cfc2ea5191c4d5c92">find</a> ($method, $params=array(), $tableName=null)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#41be0f0d2b22b68d41cf9d51a76f6817">read</a> ($id=null, $fields=null, $tableName=null)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#5ae35888fbd832eeef7b3793c1715187">create</a> ($fields, $tableName=null)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#14d9894235bf9a7534ae387f99042564">delete</a> ($id, $tableName=null)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#42ac6cbbb5aace4f8d4adb515189f13e">update</a> ($id, $fields, $tableName=null)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#15261e56a8e5782705c8d672eeb1e146">replace</a> ($fields, $tableName=null)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#074998e1626a44c7c380c901d71f437d">describe</a> ($tableName=null)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#08288cca1ba3d7d1e2f7b774f774cfcf">validate</a> ($params, $what)</td></tr>

<tr><td colspan="2"><br><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#0d9c79b9b86b3f5891c6d3892f12c6a0">$connection</a> = 'default'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#9e14b6232ac8c46228003d19140f1831">$useTable</a> = false</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#16b67673e920d05dff4db9b435a3d551">setupDbo</a> ($connName)</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#cf7576927e0722dfcecb3de8d87c1040">$dboClass</a> = null</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="model_8php-source.html#l00042">42</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="197431c3435ac36b3b8d4e8cd91f9e0c"></a><!-- doxytag: member="Model::cachedQuery" ref="197431c3435ac36b3b8d4e8cd91f9e0c" args="($s, $idname=false, $cacheid=false, $ttl=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">&amp; cachedQuery           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idname</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>cacheid</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>ttl</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Do a query that is cached via the cacheUtility<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$s sql-string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$idname if set the key of the array is set to the value of this field of the result-array. So the result is not numbered from 0..x but for example the value of the primary key </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$cacheid the id used to store this query in the cache. if ommited we try to build a suitable key </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>int</em>&nbsp;</td><td>$ttl time to live in seconds (0=infinite) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="model_8php-source.html#l00185">185</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

<p>References <a class="el" href="404_8thtml-source.html#l00009">$res</a>, <a class="el" href="basics_8php-source.html#l00301">getUtil()</a>, and <a class="el" href="model_8php-source.html#l00167">query()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_model_197431c3435ac36b3b8d4e8cd91f9e0c_cgraph.png" border="0" usemap="#class_model_197431c3435ac36b3b8d4e8cd91f9e0c_cgraph_map" alt=""></center>
<map name="class_model_197431c3435ac36b3b8d4e8cd91f9e0c_cgraph_map">
<area shape="rect" id="node3" href="basics_8php.html#cd57b52f753c4f3496080f940871a2d8" title="getUtil" alt="" coords="253,5,312,33"><area shape="rect" id="node7" href="class_model.html#bad8bfcc130c60a011eabc55fb4b46b8" title="query" alt="" coords="152,55,205,83"><area shape="rect" id="node5" href="classclass_registry.html#399426a1db8fdc5ef9c7946ff200bbc5" title="classRegistry::getObject" alt="" coords="487,5,649,33"><area shape="rect" id="node9" href="class_model.html#3816d265bfef1d18d727778688b2a53e" title="dbo" alt="" coords="261,55,304,83"><area shape="rect" id="node11" href="class_model.html#16b67673e920d05dff4db9b435a3d551" title="setupDbo" alt="" coords="361,55,436,83"><area shape="rect" id="node14" href="basics_8php.html#b8d9e801861452792cb3baef64a70985" title="kataUse" alt="" coords="533,55,603,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="0afca794c3ee242f4dda4bfaef66ea45"></a><!-- doxytag: member="Model::changeConnection" ref="0afca794c3ee242f4dda4bfaef66ea45" args="($connName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">changeConnection           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>connName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
allowes you to switch the current connection dynamically.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$connName name of the new connection to use </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="model_8php-source.html#l00100">100</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

<p>References <a class="el" href="model_8php-source.html#l00076">setupDbo()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_model_0afca794c3ee242f4dda4bfaef66ea45_cgraph.png" border="0" usemap="#class_model_0afca794c3ee242f4dda4bfaef66ea45_cgraph_map" alt=""></center>
<map name="class_model_0afca794c3ee242f4dda4bfaef66ea45_cgraph_map">
<area shape="rect" id="node3" href="class_model.html#16b67673e920d05dff4db9b435a3d551" title="setupDbo" alt="" coords="183,30,257,58"><area shape="rect" id="node5" href="classclass_registry.html#399426a1db8fdc5ef9c7946ff200bbc5" title="classRegistry::getObject" alt="" coords="308,5,471,33"><area shape="rect" id="node7" href="basics_8php.html#b8d9e801861452792cb3baef64a70985" title="kataUse" alt="" coords="355,55,424,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="5ae35888fbd832eeef7b3793c1715187"></a><!-- doxytag: member="Model::create" ref="5ae35888fbd832eeef7b3793c1715187" args="($fields, $tableName=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">create           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em> = <code>null</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
insert a record into the database.<p>
<code> $this-&gt;create(array('fooId'=&gt;1,'int1'=&gt;10,'int2'=&gt;20)); </code><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$fields name=&gt;value pairs to be inserted into the table </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$tableName insert into this table (if ommitted: use tablename of this model, including prefix) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="model_8php-source.html#l00508">508</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

<p>References <a class="el" href="model_8php-source.html#l00065">dbo()</a>, <a class="el" href="model_8php-source.html#l00167">query()</a>, and <a class="el" href="model_8php-source.html#l00228">quote()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_model_5ae35888fbd832eeef7b3793c1715187_cgraph.png" border="0" usemap="#class_model_5ae35888fbd832eeef7b3793c1715187_cgraph_map" alt=""></center>
<map name="class_model_5ae35888fbd832eeef7b3793c1715187_cgraph_map">
<area shape="rect" id="node3" href="class_model.html#3816d265bfef1d18d727778688b2a53e" title="dbo" alt="" coords="213,30,256,58"><area shape="rect" id="node11" href="class_model.html#bad8bfcc130c60a011eabc55fb4b46b8" title="query" alt="" coords="112,55,165,83"><area shape="rect" id="node14" href="class_model.html#33e9e275015bbe6428685db57649c7f4" title="quote" alt="" coords="112,106,165,134"><area shape="rect" id="node5" href="class_model.html#16b67673e920d05dff4db9b435a3d551" title="setupDbo" alt="" coords="305,30,380,58"><area shape="rect" id="node7" href="classclass_registry.html#399426a1db8fdc5ef9c7946ff200bbc5" title="classRegistry::getObject" alt="" coords="431,5,593,33"><area shape="rect" id="node9" href="basics_8php.html#b8d9e801861452792cb3baef64a70985" title="kataUse" alt="" coords="477,55,547,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="3816d265bfef1d18d727778688b2a53e"></a><!-- doxytag: member="Model::dbo" ref="3816d265bfef1d18d727778688b2a53e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dbo           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
lazy setup dbo the first time its used <dl class="return" compact><dt><b>Returns:</b></dt><dd>object intialized dbo-class </dd></dl>

<p>Definition at line <a class="el" href="model_8php-source.html#l00065">65</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

<p>References <a class="el" href="model_8php-source.html#l00076">setupDbo()</a>.</p>

<p>Referenced by <a class="el" href="model_8php-source.html#l00508">create()</a>, <a class="el" href="model_8php-source.html#l00596">describe()</a>, <a class="el" href="model_8php-source.html#l00221">escape()</a>, <a class="el" href="model_8php-source.html#l00109">getConfig()</a>, <a class="el" href="model_8php-source.html#l00117">getLink()</a>, <a class="el" href="model_8php-source.html#l00155">getPrefix()</a>, <a class="el" href="model_8php-source.html#l00288">getWhereStringHelper()</a>, <a class="el" href="model_8php-source.html#l00237">makeDateTime()</a>, <a class="el" href="model_8php-source.html#l00254">pairs()</a>, and <a class="el" href="model_8php-source.html#l00167">query()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_model_3816d265bfef1d18d727778688b2a53e_cgraph.png" border="0" usemap="#class_model_3816d265bfef1d18d727778688b2a53e_cgraph_map" alt=""></center>
<map name="class_model_3816d265bfef1d18d727778688b2a53e_cgraph_map">
<area shape="rect" id="node3" href="class_model.html#16b67673e920d05dff4db9b435a3d551" title="setupDbo" alt="" coords="97,30,172,58"><area shape="rect" id="node5" href="classclass_registry.html#399426a1db8fdc5ef9c7946ff200bbc5" title="classRegistry::getObject" alt="" coords="223,5,385,33"><area shape="rect" id="node7" href="basics_8php.html#b8d9e801861452792cb3baef64a70985" title="kataUse" alt="" coords="269,55,339,83"></map>
</div>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_model_3816d265bfef1d18d727778688b2a53e_icgraph.png" border="0" usemap="#class_model_3816d265bfef1d18d727778688b2a53e_icgraph_map" alt=""></center>
<map name="class_model_3816d265bfef1d18d727778688b2a53e_icgraph_map">
<area shape="rect" id="node3" href="class_model.html#5ae35888fbd832eeef7b3793c1715187" title="create" alt="" coords="315,5,371,33"><area shape="rect" id="node5" href="class_model.html#074998e1626a44c7c380c901d71f437d" title="describe" alt="" coords="136,157,205,185"><area shape="rect" id="node7" href="class_model.html#fe17727dd4f641849f47b070f3e9724a" title="escape" alt="" coords="139,208,203,236"><area shape="rect" id="node9" href="class_model.html#628300eb8464467d9344c7c59cc8770b" title="getConfig" alt="" coords="133,259,208,287"><area shape="rect" id="node11" href="class_model.html#bea978f4dcd47c4289232744d3ed2f01" title="getLink" alt="" coords="139,309,203,337"><area shape="rect" id="node13" href="class_model.html#7a333affb97cf092d50f3e59edaa9066" title="getPrefix" alt="" coords="135,360,207,388"><area shape="rect" id="node15" href="class_model.html#ab5a8f5a18c184c66f4f05543c6af5c8" title="getWhereStringHelper" alt="" coords="97,411,244,439"><area shape="rect" id="node17" href="class_model.html#c0e0745bf8d7566f7e22118e559fceba" title="makeDateTime" alt="" coords="117,461,224,489"><area shape="rect" id="node19" href="class_model.html#b8f824a32b3f00dfe99405faa7893836" title="pairs" alt="" coords="147,56,195,84"><area shape="rect" id="node25" href="class_model.html#bad8bfcc130c60a011eabc55fb4b46b8" title="query" alt="" coords="144,107,197,135"><area shape="rect" id="node21" href="class_model.html#15261e56a8e5782705c8d672eeb1e146" title="replace" alt="" coords="311,56,375,84"><area shape="rect" id="node23" href="class_model.html#42ac6cbbb5aace4f8d4adb515189f13e" title="update" alt="" coords="313,107,372,135"><area shape="rect" id="node27" href="class_model.html#197431c3435ac36b3b8d4e8cd91f9e0c" title="cachedQuery" alt="" coords="293,157,392,185"><area shape="rect" id="node30" href="class_model.html#14d9894235bf9a7534ae387f99042564" title="delete" alt="" coords="315,208,371,236"><area shape="rect" id="node32" href="class_model.html#41be0f0d2b22b68d41cf9d51a76f6817" title="read" alt="" coords="320,259,365,287"></map>
</div>

</div>
</div><p>
<a class="anchor" name="14d9894235bf9a7534ae387f99042564"></a><!-- doxytag: member="Model::delete" ref="14d9894235bf9a7534ae387f99042564" args="($id, $tableName=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">delete           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em> = <code>null</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
delete the row whose id is matching<p>
<code> $this-&gt;delete(5); $this-&gt;delete(array('rowId'=&gt;10)); $this-&gt;delete(array( 'rowId'=&gt;20, 'and', 'parentId'=&gt;10 )); </code><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$id primary key of row to delete </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$tableName delete from this table (if ommitted: use tablename of this model, including prefix) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="model_8php-source.html#l00540">540</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

<p>References <a class="el" href="model_8php-source.html#l00275">getWhereString()</a>, and <a class="el" href="model_8php-source.html#l00167">query()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_model_14d9894235bf9a7534ae387f99042564_cgraph.png" border="0" usemap="#class_model_14d9894235bf9a7534ae387f99042564_cgraph_map" alt=""></center>
<map name="class_model_14d9894235bf9a7534ae387f99042564_cgraph_map">
<area shape="rect" id="node3" href="class_model.html#b01b08c026b6b4a0485a65ed094f3933" title="getWhereString" alt="" coords="109,5,221,33"><area shape="rect" id="node5" href="class_model.html#bad8bfcc130c60a011eabc55fb4b46b8" title="query" alt="" coords="139,55,192,83"><area shape="rect" id="node7" href="class_model.html#3816d265bfef1d18d727778688b2a53e" title="dbo" alt="" coords="269,55,312,83"><area shape="rect" id="node9" href="class_model.html#16b67673e920d05dff4db9b435a3d551" title="setupDbo" alt="" coords="361,55,436,83"><area shape="rect" id="node11" href="classclass_registry.html#399426a1db8fdc5ef9c7946ff200bbc5" title="classRegistry::getObject" alt="" coords="487,30,649,58"><area shape="rect" id="node13" href="basics_8php.html#b8d9e801861452792cb3baef64a70985" title="kataUse" alt="" coords="533,81,603,109"></map>
</div>

</div>
</div><p>
<a class="anchor" name="074998e1626a44c7c380c901d71f437d"></a><!-- doxytag: member="Model::describe" ref="074998e1626a44c7c380c901d71f437d" args="($tableName=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">&amp; describe           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em> = <code>null</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
tries to reduce all fields of the given table to basic datatypes<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$tableName optional tablename to use </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>array </dd></dl>

<p>Definition at line <a class="el" href="model_8php-source.html#l00596">596</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

<p>References <a class="el" href="cacheutility_8php-source.html#l00033">CacheUtility::CM_FILE</a>, <a class="el" href="model_8php-source.html#l00065">dbo()</a>, and <a class="el" href="basics_8php-source.html#l00301">getUtil()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_model_074998e1626a44c7c380c901d71f437d_cgraph.png" border="0" usemap="#class_model_074998e1626a44c7c380c901d71f437d_cgraph_map" alt=""></center>
<map name="class_model_074998e1626a44c7c380c901d71f437d_cgraph_map">
<area shape="rect" id="node3" href="class_model.html#3816d265bfef1d18d727778688b2a53e" title="dbo" alt="" coords="125,5,168,33"><area shape="rect" id="node11" href="basics_8php.html#cd57b52f753c4f3496080f940871a2d8" title="getUtil" alt="" coords="225,55,284,83"><area shape="rect" id="node5" href="class_model.html#16b67673e920d05dff4db9b435a3d551" title="setupDbo" alt="" coords="217,5,292,33"><area shape="rect" id="node7" href="classclass_registry.html#399426a1db8fdc5ef9c7946ff200bbc5" title="classRegistry::getObject" alt="" coords="343,55,505,83"><area shape="rect" id="node9" href="basics_8php.html#b8d9e801861452792cb3baef64a70985" title="kataUse" alt="" coords="389,5,459,33"></map>
</div>

</div>
</div><p>
<a class="anchor" name="fe17727dd4f641849f47b070f3e9724a"></a><!-- doxytag: member="Model::escape" ref="fe17727dd4f641849f47b070f3e9724a" args="($s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">escape           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>s</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
escape possibly harmful strings so you can safely append them to an sql-string 
<p>Definition at line <a class="el" href="model_8php-source.html#l00221">221</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

<p>References <a class="el" href="model_8php-source.html#l00065">dbo()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_model_fe17727dd4f641849f47b070f3e9724a_cgraph.png" border="0" usemap="#class_model_fe17727dd4f641849f47b070f3e9724a_cgraph_map" alt=""></center>
<map name="class_model_fe17727dd4f641849f47b070f3e9724a_cgraph_map">
<area shape="rect" id="node3" href="class_model.html#3816d265bfef1d18d727778688b2a53e" title="dbo" alt="" coords="117,30,160,58"><area shape="rect" id="node5" href="class_model.html#16b67673e920d05dff4db9b435a3d551" title="setupDbo" alt="" coords="209,30,284,58"><area shape="rect" id="node7" href="classclass_registry.html#399426a1db8fdc5ef9c7946ff200bbc5" title="classRegistry::getObject" alt="" coords="335,5,497,33"><area shape="rect" id="node9" href="basics_8php.html#b8d9e801861452792cb3baef64a70985" title="kataUse" alt="" coords="381,55,451,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="2984c89b630bae5cfc2ea5191c4d5c92"></a><!-- doxytag: member="Model::find" ref="2984c89b630bae5cfc2ea5191c4d5c92" args="($method, $params=array(), $tableName=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">find           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>params</em> = <code>array&nbsp;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em> = <code>null</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
select rows using various methods (see $method for full list)<p>
<code> $rows = $this-&gt;find('all',array( 'conditions' =&gt; array( // WHERE conditions to use. default all elements are AND, just add 'or' to the condition-array to change this 'field' =&gt; $thisValue, 'or', 'field2'=&gt;$value2, 'field3'=&gt;$value3, 'field4'=&gt;$value4 ), 'fields' =&gt; array( //array of field names that we should return. first field name is used as array-key if you use method 'list' and listby is unset 'field1', 'field2' ), 'order' =&gt; array( //string or array defining order. you can add DESC or ASC 'created', 'field3 DESC' ), 'group' =&gt; array( //fields to GROUP BY 'field' ), 'listby' =&gt; array( //only if find('list'): fields to arrange result-array by 'field1','field2' ), 'limit' =&gt; 50, //int, how many rows per page 'page' =&gt; 1, //int, which page, starting at 1 ),'mytable'); </code><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$method can be 'all','list','count','first','neighbors' </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$params see example </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$tableName string or null to use modelname </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="model_8php-source.html#l00386">386</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="628300eb8464467d9344c7c59cc8770b"></a><!-- doxytag: member="Model::getConfig" ref="628300eb8464467d9344c7c59cc8770b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getConfig           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="model_8php-source.html#l00109">109</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

<p>References <a class="el" href="model_8php-source.html#l00065">dbo()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_model_628300eb8464467d9344c7c59cc8770b_cgraph.png" border="0" usemap="#class_model_628300eb8464467d9344c7c59cc8770b_cgraph_map" alt=""></center>
<map name="class_model_628300eb8464467d9344c7c59cc8770b_cgraph_map">
<area shape="rect" id="node3" href="class_model.html#3816d265bfef1d18d727778688b2a53e" title="dbo" alt="" coords="131,30,173,58"><area shape="rect" id="node5" href="class_model.html#16b67673e920d05dff4db9b435a3d551" title="setupDbo" alt="" coords="223,30,297,58"><area shape="rect" id="node7" href="classclass_registry.html#399426a1db8fdc5ef9c7946ff200bbc5" title="classRegistry::getObject" alt="" coords="348,5,511,33"><area shape="rect" id="node9" href="basics_8php.html#b8d9e801861452792cb3baef64a70985" title="kataUse" alt="" coords="395,55,464,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="bea978f4dcd47c4289232744d3ed2f01"></a><!-- doxytag: member="Model::getLink" ref="bea978f4dcd47c4289232744d3ed2f01" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getLink           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="model_8php-source.html#l00117">117</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

<p>References <a class="el" href="model_8php-source.html#l00065">dbo()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_model_bea978f4dcd47c4289232744d3ed2f01_cgraph.png" border="0" usemap="#class_model_bea978f4dcd47c4289232744d3ed2f01_cgraph_map" alt=""></center>
<map name="class_model_bea978f4dcd47c4289232744d3ed2f01_cgraph_map">
<area shape="rect" id="node3" href="class_model.html#3816d265bfef1d18d727778688b2a53e" title="dbo" alt="" coords="117,30,160,58"><area shape="rect" id="node5" href="class_model.html#16b67673e920d05dff4db9b435a3d551" title="setupDbo" alt="" coords="209,30,284,58"><area shape="rect" id="node7" href="classclass_registry.html#399426a1db8fdc5ef9c7946ff200bbc5" title="classRegistry::getObject" alt="" coords="335,5,497,33"><area shape="rect" id="node9" href="basics_8php.html#b8d9e801861452792cb3baef64a70985" title="kataUse" alt="" coords="381,55,451,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="7a333affb97cf092d50f3e59edaa9066"></a><!-- doxytag: member="Model::getPrefix" ref="7a333affb97cf092d50f3e59edaa9066" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getPrefix           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
return the prefix configured for this connection<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="model_8php-source.html#l00155">155</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

<p>References <a class="el" href="model_8php-source.html#l00065">dbo()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_model_7a333affb97cf092d50f3e59edaa9066_cgraph.png" border="0" usemap="#class_model_7a333affb97cf092d50f3e59edaa9066_cgraph_map" alt=""></center>
<map name="class_model_7a333affb97cf092d50f3e59edaa9066_cgraph_map">
<area shape="rect" id="node3" href="class_model.html#3816d265bfef1d18d727778688b2a53e" title="dbo" alt="" coords="125,30,168,58"><area shape="rect" id="node5" href="class_model.html#16b67673e920d05dff4db9b435a3d551" title="setupDbo" alt="" coords="217,30,292,58"><area shape="rect" id="node7" href="classclass_registry.html#399426a1db8fdc5ef9c7946ff200bbc5" title="classRegistry::getObject" alt="" coords="343,5,505,33"><area shape="rect" id="node9" href="basics_8php.html#b8d9e801861452792cb3baef64a70985" title="kataUse" alt="" coords="389,55,459,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="b01b08c026b6b4a0485a65ed094f3933"></a><!-- doxytag: member="Model::getWhereString" ref="b01b08c026b6b4a0485a65ed094f3933" args="(&amp;$id, $tableName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getWhereString           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
construct a suitable where-clause for a query <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$id </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$tableName needed to generate a primary key name </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>string full 'WHERE x=' string </dd></dl>

<p>Definition at line <a class="el" href="model_8php-source.html#l00275">275</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

<p>Referenced by <a class="el" href="model_8php-source.html#l00540">delete()</a>, <a class="el" href="model_8php-source.html#l00484">read()</a>, and <a class="el" href="model_8php-source.html#l00563">update()</a>.</p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_model_b01b08c026b6b4a0485a65ed094f3933_icgraph.png" border="0" usemap="#class_model_b01b08c026b6b4a0485a65ed094f3933_icgraph_map" alt=""></center>
<map name="class_model_b01b08c026b6b4a0485a65ed094f3933_icgraph_map">
<area shape="rect" id="node3" href="class_model.html#14d9894235bf9a7534ae387f99042564" title="delete" alt="" coords="168,5,224,33"><area shape="rect" id="node5" href="class_model.html#41be0f0d2b22b68d41cf9d51a76f6817" title="read" alt="" coords="173,55,219,83"><area shape="rect" id="node7" href="class_model.html#42ac6cbbb5aace4f8d4adb515189f13e" title="update" alt="" coords="167,106,225,134"></map>
</div>

</div>
</div><p>
<a class="anchor" name="ab5a8f5a18c184c66f4f05543c6af5c8"></a><!-- doxytag: member="Model::getWhereStringHelper" ref="ab5a8f5a18c184c66f4f05543c6af5c8" args="(&amp;$id, $tableName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getWhereStringHelper           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
do the actual work for <a class="el" href="class_model.html#b01b08c026b6b4a0485a65ed094f3933">getWhereString()</a>. analyse strings and branch for arrays <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$id </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$tableName needed to generate a primary key name </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>string 'x=y AND x=z' string without 'WHERE' </dd></dl>

<p>Definition at line <a class="el" href="model_8php-source.html#l00288">288</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

<p>References <a class="el" href="model_8php-source.html#l00065">dbo()</a>, and <a class="el" href="model_8php-source.html#l00228">quote()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_model_ab5a8f5a18c184c66f4f05543c6af5c8_cgraph.png" border="0" usemap="#class_model_ab5a8f5a18c184c66f4f05543c6af5c8_cgraph_map" alt=""></center>
<map name="class_model_ab5a8f5a18c184c66f4f05543c6af5c8_cgraph_map">
<area shape="rect" id="node3" href="class_model.html#3816d265bfef1d18d727778688b2a53e" title="dbo" alt="" coords="208,30,251,58"><area shape="rect" id="node11" href="class_model.html#33e9e275015bbe6428685db57649c7f4" title="quote" alt="" coords="203,81,256,109"><area shape="rect" id="node5" href="class_model.html#16b67673e920d05dff4db9b435a3d551" title="setupDbo" alt="" coords="305,30,380,58"><area shape="rect" id="node7" href="classclass_registry.html#399426a1db8fdc5ef9c7946ff200bbc5" title="classRegistry::getObject" alt="" coords="431,5,593,33"><area shape="rect" id="node9" href="basics_8php.html#b8d9e801861452792cb3baef64a70985" title="kataUse" alt="" coords="477,55,547,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="44f869ba0a560a6089398551319eb5b0"></a><!-- doxytag: member="Model::log" ref="44f869ba0a560a6089398551319eb5b0" args="($what, $where)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">log           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>what</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>where</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
convenience method for writeLog <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$what what to log </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$where where to log (KATA_DEBUG OR KATA_ERROR) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="model_8php-source.html#l00246">246</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

<p>References <a class="el" href="basics_8php-source.html#l00248">writeLog()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_model_44f869ba0a560a6089398551319eb5b0_cgraph.png" border="0" usemap="#class_model_44f869ba0a560a6089398551319eb5b0_cgraph_map" alt=""></center>
<map name="class_model_44f869ba0a560a6089398551319eb5b0_cgraph_map">
<area shape="rect" id="node3" href="basics_8php.html#7e4a8893445ae802cc4811bdbd26fc0c" title="writeLog" alt="" coords="93,5,163,33"><area shape="rect" id="node5" href="basics_8php.html#b91335671ecd3157a40fc292d1b7103e" title="kataMakeTmpPath" alt="" coords="211,5,341,33"></map>
</div>

</div>
</div><p>
<a class="anchor" name="c0e0745bf8d7566f7e22118e559fceba"></a><!-- doxytag: member="Model::makeDateTime" ref="c0e0745bf8d7566f7e22118e559fceba" args="($t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">makeDateTime           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>t</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
turn a unix timestamp into datetime-suitable data <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>integer</em>&nbsp;</td><td>$t unix time </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>string sql-statement </dd></dl>

<p>Definition at line <a class="el" href="model_8php-source.html#l00237">237</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

<p>References <a class="el" href="model_8php-source.html#l00065">dbo()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_model_c0e0745bf8d7566f7e22118e559fceba_cgraph.png" border="0" usemap="#class_model_c0e0745bf8d7566f7e22118e559fceba_cgraph_map" alt=""></center>
<map name="class_model_c0e0745bf8d7566f7e22118e559fceba_cgraph_map">
<area shape="rect" id="node3" href="class_model.html#3816d265bfef1d18d727778688b2a53e" title="dbo" alt="" coords="163,30,205,58"><area shape="rect" id="node5" href="class_model.html#16b67673e920d05dff4db9b435a3d551" title="setupDbo" alt="" coords="255,30,329,58"><area shape="rect" id="node7" href="classclass_registry.html#399426a1db8fdc5ef9c7946ff200bbc5" title="classRegistry::getObject" alt="" coords="380,5,543,33"><area shape="rect" id="node9" href="basics_8php.html#b8d9e801861452792cb3baef64a70985" title="kataUse" alt="" coords="427,55,496,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="b8f824a32b3f00dfe99405faa7893836"></a><!-- doxytag: member="Model::pairs" ref="b8f824a32b3f00dfe99405faa7893836" args="($params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pairs           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>params</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
turn the given array into "name=value,name=value" pairs suitable for INSERT or UPDATE-sqls. strings are automatically escaped <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$params the data </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="model_8php-source.html#l00254">254</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

<p>References <a class="el" href="model_8php-source.html#l00065">dbo()</a>, and <a class="el" href="model_8php-source.html#l00228">quote()</a>.</p>

<p>Referenced by <a class="el" href="model_8php-source.html#l00584">replace()</a>, and <a class="el" href="model_8php-source.html#l00563">update()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_model_b8f824a32b3f00dfe99405faa7893836_cgraph.png" border="0" usemap="#class_model_b8f824a32b3f00dfe99405faa7893836_cgraph_map" alt=""></center>
<map name="class_model_b8f824a32b3f00dfe99405faa7893836_cgraph_map">
<area shape="rect" id="node3" href="class_model.html#3816d265bfef1d18d727778688b2a53e" title="dbo" alt="" coords="109,30,152,58"><area shape="rect" id="node11" href="class_model.html#33e9e275015bbe6428685db57649c7f4" title="quote" alt="" coords="104,81,157,109"><area shape="rect" id="node5" href="class_model.html#16b67673e920d05dff4db9b435a3d551" title="setupDbo" alt="" coords="207,30,281,58"><area shape="rect" id="node7" href="classclass_registry.html#399426a1db8fdc5ef9c7946ff200bbc5" title="classRegistry::getObject" alt="" coords="332,5,495,33"><area shape="rect" id="node9" href="basics_8php.html#b8d9e801861452792cb3baef64a70985" title="kataUse" alt="" coords="379,55,448,83"></map>
</div>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_model_b8f824a32b3f00dfe99405faa7893836_icgraph.png" border="0" usemap="#class_model_b8f824a32b3f00dfe99405faa7893836_icgraph_map" alt=""></center>
<map name="class_model_b8f824a32b3f00dfe99405faa7893836_icgraph_map">
<area shape="rect" id="node3" href="class_model.html#15261e56a8e5782705c8d672eeb1e146" title="replace" alt="" coords="104,5,168,33"><area shape="rect" id="node5" href="class_model.html#42ac6cbbb5aace4f8d4adb515189f13e" title="update" alt="" coords="107,55,165,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="bad8bfcc130c60a011eabc55fb4b46b8"></a><!-- doxytag: member="Model::query" ref="bad8bfcc130c60a011eabc55fb4b46b8" args="($s, $idname=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">&amp; query           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idname</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
execute an actual query on the database <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$s the sql to execute </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$idname can be used to have the keys of the returned array equal the value ob the column given here (instead of just heaving 0..x as keys) </td></tr>
  </table>
</dl>

<p>Reimplemented in <a class="el" href="class_cluster_model.html#c875a30f28bfcef4588a3cdc5c151de2">ClusterModel</a>.</p>

<p>Definition at line <a class="el" href="model_8php-source.html#l00167">167</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

<p>References <a class="el" href="model_8php-source.html#l00065">dbo()</a>.</p>

<p>Referenced by <a class="el" href="model_8php-source.html#l00185">cachedQuery()</a>, <a class="el" href="model_8php-source.html#l00508">create()</a>, <a class="el" href="model_8php-source.html#l00540">delete()</a>, <a class="el" href="model_8php-source.html#l00484">read()</a>, <a class="el" href="model_8php-source.html#l00584">replace()</a>, and <a class="el" href="model_8php-source.html#l00563">update()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_model_bad8bfcc130c60a011eabc55fb4b46b8_cgraph.png" border="0" usemap="#class_model_bad8bfcc130c60a011eabc55fb4b46b8_cgraph_map" alt=""></center>
<map name="class_model_bad8bfcc130c60a011eabc55fb4b46b8_cgraph_map">
<area shape="rect" id="node3" href="class_model.html#3816d265bfef1d18d727778688b2a53e" title="dbo" alt="" coords="107,30,149,58"><area shape="rect" id="node5" href="class_model.html#16b67673e920d05dff4db9b435a3d551" title="setupDbo" alt="" coords="199,30,273,58"><area shape="rect" id="node7" href="classclass_registry.html#399426a1db8fdc5ef9c7946ff200bbc5" title="classRegistry::getObject" alt="" coords="324,5,487,33"><area shape="rect" id="node9" href="basics_8php.html#b8d9e801861452792cb3baef64a70985" title="kataUse" alt="" coords="371,55,440,83"></map>
</div>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_model_bad8bfcc130c60a011eabc55fb4b46b8_icgraph.png" border="0" usemap="#class_model_bad8bfcc130c60a011eabc55fb4b46b8_icgraph_map" alt=""></center>
<map name="class_model_bad8bfcc130c60a011eabc55fb4b46b8_icgraph_map">
<area shape="rect" id="node3" href="class_model.html#197431c3435ac36b3b8d4e8cd91f9e0c" title="cachedQuery" alt="" coords="107,5,205,33"><area shape="rect" id="node5" href="class_model.html#5ae35888fbd832eeef7b3793c1715187" title="create" alt="" coords="128,55,184,83"><area shape="rect" id="node7" href="class_model.html#14d9894235bf9a7534ae387f99042564" title="delete" alt="" coords="128,106,184,134"><area shape="rect" id="node9" href="class_model.html#41be0f0d2b22b68d41cf9d51a76f6817" title="read" alt="" coords="133,157,179,185"><area shape="rect" id="node11" href="class_model.html#15261e56a8e5782705c8d672eeb1e146" title="replace" alt="" coords="124,207,188,235"><area shape="rect" id="node13" href="class_model.html#42ac6cbbb5aace4f8d4adb515189f13e" title="update" alt="" coords="127,258,185,286"></map>
</div>

</div>
</div><p>
<a class="anchor" name="33e9e275015bbe6428685db57649c7f4"></a><!-- doxytag: member="Model::quote" ref="33e9e275015bbe6428685db57649c7f4" args="($s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">quote           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>s</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
enclose string in quotes and escape it 
<p>Definition at line <a class="el" href="model_8php-source.html#l00228">228</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

<p>Referenced by <a class="el" href="model_8php-source.html#l00508">create()</a>, <a class="el" href="model_8php-source.html#l00288">getWhereStringHelper()</a>, and <a class="el" href="model_8php-source.html#l00254">pairs()</a>.</p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_model_33e9e275015bbe6428685db57649c7f4_icgraph.png" border="0" usemap="#class_model_33e9e275015bbe6428685db57649c7f4_icgraph_map" alt=""></center>
<map name="class_model_33e9e275015bbe6428685db57649c7f4_icgraph_map">
<area shape="rect" id="node3" href="class_model.html#5ae35888fbd832eeef7b3793c1715187" title="create" alt="" coords="153,5,209,33"><area shape="rect" id="node5" href="class_model.html#ab5a8f5a18c184c66f4f05543c6af5c8" title="getWhereStringHelper" alt="" coords="108,55,255,83"><area shape="rect" id="node7" href="class_model.html#b8f824a32b3f00dfe99405faa7893836" title="pairs" alt="" coords="157,106,205,134"><area shape="rect" id="node9" href="class_model.html#15261e56a8e5782705c8d672eeb1e146" title="replace" alt="" coords="304,81,368,109"><area shape="rect" id="node11" href="class_model.html#42ac6cbbb5aace4f8d4adb515189f13e" title="update" alt="" coords="307,131,365,159"></map>
</div>

</div>
</div><p>
<a class="anchor" name="41be0f0d2b22b68d41cf9d51a76f6817"></a><!-- doxytag: member="Model::read" ref="41be0f0d2b22b68d41cf9d51a76f6817" args="($id=null, $fields=null, $tableName=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">read           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>id</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>fields</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em> = <code>null</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
read data from the database. <code> $rows = $this-&gt;read(5); $rows = $this-&gt;read(array('foobarId'=&gt;5)); $rows = $this-&gt;read(array( 'foobarId'=&gt;6, 'and', 'someId'=&gt;2 ));</code><p>
<code> </code><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$id read the row with this primary key (if null: all rows) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$fields return these colums (if null: all fields) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$tableName read from this table (if ommitted: use tablename of this model, including prefix) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="model_8php-source.html#l00484">484</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

<p>References <a class="el" href="model_8php-source.html#l00275">getWhereString()</a>, and <a class="el" href="model_8php-source.html#l00167">query()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_model_41be0f0d2b22b68d41cf9d51a76f6817_cgraph.png" border="0" usemap="#class_model_41be0f0d2b22b68d41cf9d51a76f6817_cgraph_map" alt=""></center>
<map name="class_model_41be0f0d2b22b68d41cf9d51a76f6817_cgraph_map">
<area shape="rect" id="node3" href="class_model.html#b01b08c026b6b4a0485a65ed094f3933" title="getWhereString" alt="" coords="101,5,213,33"><area shape="rect" id="node5" href="class_model.html#bad8bfcc130c60a011eabc55fb4b46b8" title="query" alt="" coords="131,55,184,83"><area shape="rect" id="node7" href="class_model.html#3816d265bfef1d18d727778688b2a53e" title="dbo" alt="" coords="261,55,304,83"><area shape="rect" id="node9" href="class_model.html#16b67673e920d05dff4db9b435a3d551" title="setupDbo" alt="" coords="353,55,428,83"><area shape="rect" id="node11" href="classclass_registry.html#399426a1db8fdc5ef9c7946ff200bbc5" title="classRegistry::getObject" alt="" coords="479,30,641,58"><area shape="rect" id="node13" href="basics_8php.html#b8d9e801861452792cb3baef64a70985" title="kataUse" alt="" coords="525,81,595,109"></map>
</div>

</div>
</div><p>
<a class="anchor" name="15261e56a8e5782705c8d672eeb1e146"></a><!-- doxytag: member="Model::replace" ref="15261e56a8e5782705c8d672eeb1e146" args="($fields, $tableName=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">replace           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em> = <code>null</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
update a row or insert a new record if no previous row is found<p>
<code> $this-&gt;replace(array( 'fooId'=&gt;10, 'data1'=&gt;20 )); </code><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$id primary key of row to replace </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$fields name=&gt;value pairs of new values </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$table replace from this table (if ommitted: use tablename of this model, including prefix) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="model_8php-source.html#l00584">584</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

<p>References <a class="el" href="model_8php-source.html#l00254">pairs()</a>, and <a class="el" href="model_8php-source.html#l00167">query()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_model_15261e56a8e5782705c8d672eeb1e146_cgraph.png" border="0" usemap="#class_model_15261e56a8e5782705c8d672eeb1e146_cgraph_map" alt=""></center>
<map name="class_model_15261e56a8e5782705c8d672eeb1e146_cgraph_map">
<area shape="rect" id="node3" href="class_model.html#b8f824a32b3f00dfe99405faa7893836" title="pairs" alt="" coords="120,81,168,109"><area shape="rect" id="node15" href="class_model.html#bad8bfcc130c60a011eabc55fb4b46b8" title="query" alt="" coords="117,30,171,58"><area shape="rect" id="node5" href="class_model.html#3816d265bfef1d18d727778688b2a53e" title="dbo" alt="" coords="224,30,267,58"><area shape="rect" id="node13" href="class_model.html#33e9e275015bbe6428685db57649c7f4" title="quote" alt="" coords="219,81,272,109"><area shape="rect" id="node7" href="class_model.html#16b67673e920d05dff4db9b435a3d551" title="setupDbo" alt="" coords="321,30,396,58"><area shape="rect" id="node9" href="classclass_registry.html#399426a1db8fdc5ef9c7946ff200bbc5" title="classRegistry::getObject" alt="" coords="447,5,609,33"><area shape="rect" id="node11" href="basics_8php.html#b8d9e801861452792cb3baef64a70985" title="kataUse" alt="" coords="493,55,563,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="16b67673e920d05dff4db9b435a3d551"></a><!-- doxytag: member="Model::setupDbo" ref="16b67673e920d05dff4db9b435a3d551" args="($connName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setupDbo           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>connName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
load dbo-class, give dbconfig to class <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$connName name of the connection to use </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="model_8php-source.html#l00076">76</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

<p>References <a class="el" href="class__registry_8php-source.html#l00034">classRegistry::getObject()</a>, and <a class="el" href="basics_8php-source.html#l00371">kataUse()</a>.</p>

<p>Referenced by <a class="el" href="model_8php-source.html#l00100">changeConnection()</a>, and <a class="el" href="model_8php-source.html#l00065">dbo()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_model_16b67673e920d05dff4db9b435a3d551_cgraph.png" border="0" usemap="#class_model_16b67673e920d05dff4db9b435a3d551_cgraph_map" alt=""></center>
<map name="class_model_16b67673e920d05dff4db9b435a3d551_cgraph_map">
<area shape="rect" id="node3" href="classclass_registry.html#399426a1db8fdc5ef9c7946ff200bbc5" title="classRegistry::getObject" alt="" coords="132,5,295,33"><area shape="rect" id="node5" href="basics_8php.html#b8d9e801861452792cb3baef64a70985" title="kataUse" alt="" coords="179,55,248,83"></map>
</div>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_model_16b67673e920d05dff4db9b435a3d551_icgraph.png" border="0" usemap="#class_model_16b67673e920d05dff4db9b435a3d551_icgraph_map" alt=""></center>
<map name="class_model_16b67673e920d05dff4db9b435a3d551_icgraph_map">
<area shape="rect" id="node3" href="class_model.html#0afca794c3ee242f4dda4bfaef66ea45" title="changeConnection" alt="" coords="131,184,259,212"><area shape="rect" id="node5" href="class_model.html#3816d265bfef1d18d727778688b2a53e" title="dbo" alt="" coords="173,235,216,263"><area shape="rect" id="node7" href="class_model.html#5ae35888fbd832eeef7b3793c1715187" title="create" alt="" coords="525,7,581,35"><area shape="rect" id="node9" href="class_model.html#074998e1626a44c7c380c901d71f437d" title="describe" alt="" coords="347,159,416,187"><area shape="rect" id="node11" href="class_model.html#fe17727dd4f641849f47b070f3e9724a" title="escape" alt="" coords="349,209,413,237"><area shape="rect" id="node13" href="class_model.html#628300eb8464467d9344c7c59cc8770b" title="getConfig" alt="" coords="344,260,419,288"><area shape="rect" id="node15" href="class_model.html#bea978f4dcd47c4289232744d3ed2f01" title="getLink" alt="" coords="349,311,413,339"><area shape="rect" id="node17" href="class_model.html#7a333affb97cf092d50f3e59edaa9066" title="getPrefix" alt="" coords="345,361,417,389"><area shape="rect" id="node19" href="class_model.html#ab5a8f5a18c184c66f4f05543c6af5c8" title="getWhereStringHelper" alt="" coords="308,412,455,440"><area shape="rect" id="node21" href="class_model.html#c0e0745bf8d7566f7e22118e559fceba" title="makeDateTime" alt="" coords="328,463,435,491"><area shape="rect" id="node23" href="class_model.html#b8f824a32b3f00dfe99405faa7893836" title="pairs" alt="" coords="357,57,405,85"><area shape="rect" id="node29" href="class_model.html#bad8bfcc130c60a011eabc55fb4b46b8" title="query" alt="" coords="355,108,408,136"><area shape="rect" id="node25" href="class_model.html#15261e56a8e5782705c8d672eeb1e146" title="replace" alt="" coords="521,57,585,85"><area shape="rect" id="node27" href="class_model.html#42ac6cbbb5aace4f8d4adb515189f13e" title="update" alt="" coords="524,108,583,136"><area shape="rect" id="node31" href="class_model.html#197431c3435ac36b3b8d4e8cd91f9e0c" title="cachedQuery" alt="" coords="504,159,603,187"><area shape="rect" id="node34" href="class_model.html#14d9894235bf9a7534ae387f99042564" title="delete" alt="" coords="525,209,581,237"><area shape="rect" id="node36" href="class_model.html#41be0f0d2b22b68d41cf9d51a76f6817" title="read" alt="" coords="531,260,576,288"></map>
</div>

</div>
</div><p>
<a class="anchor" name="42ac6cbbb5aace4f8d4adb515189f13e"></a><!-- doxytag: member="Model::update" ref="42ac6cbbb5aace4f8d4adb515189f13e" args="($id, $fields, $tableName=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">update           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em> = <code>null</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
update a row whose id is matching<p>
<code> $this-&gt;update(array( 'fooId'=&gt;10, 'data1'=&gt;20 )); </code><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$id primary key of row to update </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$fields name=&gt;value pairs of new values </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$tableName update data in this table (if ommitted: use tablename of this model, including prefix) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="model_8php-source.html#l00563">563</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

<p>References <a class="el" href="model_8php-source.html#l00275">getWhereString()</a>, <a class="el" href="model_8php-source.html#l00254">pairs()</a>, and <a class="el" href="model_8php-source.html#l00167">query()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_model_42ac6cbbb5aace4f8d4adb515189f13e_cgraph.png" border="0" usemap="#class_model_42ac6cbbb5aace4f8d4adb515189f13e_cgraph_map" alt=""></center>
<map name="class_model_42ac6cbbb5aace4f8d4adb515189f13e_cgraph_map">
<area shape="rect" id="node3" href="class_model.html#b01b08c026b6b4a0485a65ed094f3933" title="getWhereString" alt="" coords="115,5,227,33"><area shape="rect" id="node5" href="class_model.html#b8f824a32b3f00dfe99405faa7893836" title="pairs" alt="" coords="147,106,195,134"><area shape="rect" id="node17" href="class_model.html#bad8bfcc130c60a011eabc55fb4b46b8" title="query" alt="" coords="144,55,197,83"><area shape="rect" id="node7" href="class_model.html#3816d265bfef1d18d727778688b2a53e" title="dbo" alt="" coords="280,55,323,83"><area shape="rect" id="node15" href="class_model.html#33e9e275015bbe6428685db57649c7f4" title="quote" alt="" coords="275,106,328,134"><area shape="rect" id="node9" href="class_model.html#16b67673e920d05dff4db9b435a3d551" title="setupDbo" alt="" coords="377,55,452,83"><area shape="rect" id="node11" href="classclass_registry.html#399426a1db8fdc5ef9c7946ff200bbc5" title="classRegistry::getObject" alt="" coords="503,30,665,58"><area shape="rect" id="node13" href="basics_8php.html#b8d9e801861452792cb3baef64a70985" title="kataUse" alt="" coords="549,81,619,109"></map>
</div>

</div>
</div><p>
<a class="anchor" name="08288cca1ba3d7d1e2f7b774f774cfcf"></a><!-- doxytag: member="Model::validate" ref="08288cca1ba3d7d1e2f7b774f774cfcf" args="($params, $what)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">validate           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>what</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
checks the given values of the array match certain criterias <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$params key/value pair. key is the name of the key inside the $what-array, value is a "VALID_" define (see above) or the name of a function that is given the string (should return bool wether the string validates) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$what the actual data </td></tr>
  </table>
</dl>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000007">Deprecated:</a></b></dt><dd>31.04.2009 </dd></dl>

<p>Definition at line <a class="el" href="model_8php-source.html#l00617">617</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

</div>
</div><p>
<hr><h2>Field Documentation</h2>
<a class="anchor" name="0d9c79b9b86b3f5891c6d3892f12c6a0"></a><!-- doxytag: member="Model::$connection" ref="0d9c79b9b86b3f5891c6d3892f12c6a0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$connection = 'default'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="model_8php-source.html#l00047">47</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="cf7576927e0722dfcecb3de8d87c1040"></a><!-- doxytag: member="Model::$dboClass" ref="cf7576927e0722dfcecb3de8d87c1040" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$dboClass = null<code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="model_8php-source.html#l00059">59</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="9e14b6232ac8c46228003d19140f1831"></a><!-- doxytag: member="Model::$useTable" ref="9e14b6232ac8c46228003d19140f1831" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$useTable = false          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="model_8php-source.html#l00053">53</a> of file <a class="el" href="model_8php-source.html">model.php</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="model_8php-source.html">model.php</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Apr 27 16:29:08 2009 for kata by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>

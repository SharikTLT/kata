<html xmlns="http://www.w3.org/1999/xhtml"><head><title>lib/dbo_mssql.php</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" href="../css/black-tie/jquery-ui-1.8.2.custom.css" type="text/css"></link><link rel="stylesheet" href="../css/jquery.treeview.css" type="text/css"></link><link rel="stylesheet" href="../css/default.css" type="text/css"></link><script type="text/javascript" src="../js/jquery-1.4.2.min.js"></script><script type="text/javascript" src="../js/jquery-ui-1.8.2.custom.min.js"></script><script type="text/javascript" src="../js/jquery.treeview.js"></script></head><body><script type="text/javascript">
          $(document).ready(function()
          {
            $(".treeview-docblox").treeview({
              animated: 'fast'
            });
          });

          function jq_escape(myid)
          {
            return '#' + myid.replace(/(#|\$|:|\.|\(|\))/g, '\\$1');
          }

          function applySearchHash()
          {
            hashes = document.location.hash.substr(1, document.location.hash.length);
            if (hashes != "")
            {
              hashes = hashes.split('/');
              $.each(hashes, function(index, hash)
              {
                node = $(jq_escape(hash));
                switch (node[0].nodeName)
                {
                  case 'DIV':
                    tabs = node.parents('.tabs');
                    $(tabs[0]).tabs('select', '#' + hash)
                    break;
                  case 'A':
                    window.scrollTo(0, node.offset().top);
                    break;
                }
              });
            }
          }

          jQuery(function()
          {
            jQuery(".tabs").tabs();
            applySearchHash();
          });
        </script><div id="maincontainer"><div id="header"><div class="padder"></div></div><div id="content_container"><div id="content"><div class="padder"><h1 xmlns="">lib/dbo_mssql.php</h1>
<div xmlns="" class="properties">
<h1>Properties</h1>
<label class="property-key">package</label><div class="property-value"><a title="kata_model" href="">kata_model</a></div>
</div>
<h3 xmlns="">Description</h3>Contains a wrapper-class for mssql, so models can access mssql<br xmlns=""><br xmlns="">Kata - Lightweight MVC Framework <http://www.codeninja.de/>
Copyright 2007-2009 mnt@codeninja.de, gameforge ag

Licensed under The GPL License
Redistributions of files must retain the above copyright notice.<br xmlns=""><h2 xmlns="">Classes</h2>
<div xmlns="" id="dbo_mssql">
<h3>dbo_mssql</h3>
<div class="properties">
<h1>Properties</h1>
<label class="property-key">Extends</label><div class="property-value"> </div>
<label class="property-key">Implements</label><div class="property-value"> 
      </div>
<label class="property-key">author</label><div class="property-value">
<a title="mnt@codeninja.de">mnt@codeninja.de</a>
             
        </div>
<label class="property-key">author</label><div class="property-value">
<a title="marcel.boessendoerfer@gameforge.de">marcel.boessendoerfer@gameforge.de</a>
             
        </div>
<label class="property-key">package</label><div class="property-value">
<a title="kata_model">kata_model</a>
             
        </div>
<label class="property-key">Abstract</label><div class="property-value">No 
      </div>
<label class="property-key">Final</label><div class="property-value">No 
      </div>
</div>
<h4>Description</h4>
<em>this class is used by the model to access the database itself</em><br><br><div id="methods_dbo_mssql">
<h4>Methods</h4>
<a style="font-style: italic;" href="#dbo_mssql::__destruct()">__destruct</a>,
      <a style="font-style: italic;" href="#dbo_mssql::connect()">connect</a>,
      <a style="font-style: italic;" href="#dbo_mssql::describe()">describe</a>,
      <a style="font-style: italic;" href="#dbo_mssql::escape()">escape</a>,
      <a style="font-style: italic;" href="#dbo_mssql::execute()">execute</a>,
      <a style="font-style: italic;" href="#dbo_mssql::getConfig()">getConfig</a>,
      <a style="font-style: italic;" href="#dbo_mssql::getFirstRowQuery()">getFirstRowQuery</a>,
      <a style="font-style: italic;" href="#dbo_mssql::getLink()">getLink</a>,
      <a style="font-style: italic;" href="#dbo_mssql::getPageQuery()">getPageQuery</a>,
      <a style="font-style: italic;" href="#dbo_mssql::getSqlCommand()">getSqlCommand</a>,
      <a style="font-style: italic;" href="#dbo_mssql::isConnected()">isConnected</a>,
      <a style="font-style: italic;" href="#dbo_mssql::isValidOperator()">isValidOperator</a>,
      <a style="font-style: italic;" href="#dbo_mssql::lastAffected()">lastAffected</a>,
      <a style="font-style: italic;" href="#dbo_mssql::lastInsertId()">lastInsertId</a>,
      <a style="font-style: italic;" href="#dbo_mssql::lastResult()">lastResult</a>,
      <a style="font-style: italic;" href="#dbo_mssql::makeDateTime()">makeDateTime</a>,
      <a style="font-style: italic;" href="#dbo_mssql::query()">query</a>,
      <a style="font-style: italic;" href="#dbo_mssql::quoteName()">quoteName</a>,
      <a style="font-style: italic;" href="#dbo_mssql::replace()">replace</a>,
      <a style="font-style: italic;" href="#dbo_mssql::setConfig()">setConfig</a>,
      <a style="font-style: italic;" href="#dbo_mssql::setEncoding()">setEncoding</a>,
      <a style="font-style: italic;" href="#dbo_mssql::setLink()">setLink</a>,
      <div class="method">
<a id="dbo_mssql::__destruct()"></a><h3>__destruct<span class="nb-faded-text">(
          
          )
        </span>
        :
        <span class="nb-faded-text">n/a</span>
</h3>
<h4>Description</h4>
<em>output any queries made, how long it took, the result and any errors if DEBUG</em><br><h4>Return value</h4>
<table>
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td>n/a</td>
<td>n/a</td>
</tr></tbody>
</table>
</div>
<div class="method">
<a id="dbo_mssql::connect()"></a><h3>connect<span class="nb-faded-text">(
          
          )
        </span>
        :
        <span class="nb-faded-text">n/a</span>
</h3>
<h4>Description</h4>
<em>connect to the database</em><br><h4>Return value</h4>
<table>
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td>n/a</td>
<td>n/a</td>
</tr></tbody>
</table>
</div>
<div class="method">
<a id="dbo_mssql::describe()"></a><h3>describe<span class="nb-faded-text">(
          string $tableName,
          
          )
        </span>
        :
        <span class="nb-faded-text">unknown</span>
</h3>
<h4>Description</h4>
<em>try to reduce the fields of given table to the basic types bool, unixdate, int, string, float, date, enum</em><br><small>&lt;code&gt;example:

Array
(
    [table] =&gt; test
    [primary] =&gt; a
    [cols] =&gt; Array
        (
            [a] =&gt; Array
                (
                    [default] =&gt; CURRENT_TIMESTAMP
                    [null] =&gt;
                    [length] =&gt; 0
                    [type] =&gt; date
                )

            [g] =&gt; Array
                (
                    [default] =&gt;
                    [null] =&gt;
                    [length] =&gt; 0
                    [type] =&gt; unsupported:time
                )
        )

)
&lt;/code&gt;</small><br><h4>Arguments</h4>
<table>
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr></thead>
<tbody><tr>
<td>$tableName</td>
<td>string</td>
<td>name of the table to analyze</td>
<td></td>
</tr></tbody>
</table>
<h4>Return value</h4>
<table>
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td>unknown</td>
<td></td>
</tr></tbody>
</table>
</div>
<div class="method">
<a id="dbo_mssql::escape()"></a><h3>escape<span class="nb-faded-text">(
          string $sql,
          
          )
        </span>
        :
        <span class="nb-faded-text">string</span>
</h3>
<h4>Description</h4>
<em>escape the given string so it can be safely appended to any sql</em><br><h4>Arguments</h4>
<table>
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr></thead>
<tbody><tr>
<td>$sql</td>
<td>string</td>
<td>string to escape</td>
<td></td>
</tr></tbody>
</table>
<h4>Return value</h4>
<table>
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td>string</td>
<td></td>
</tr></tbody>
</table>
</div>
<div class="method">
<a id="dbo_mssql::execute()"></a><h3>execute<span class="nb-faded-text">(
           $sql,
          
          )
        </span>
        :
        <span class="nb-faded-text">mixed</span>
</h3>
<h4>Description</h4>
<em>execute this query</em><br><h4>Arguments</h4>
<table>
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr></thead>
<tbody><tr>
<td>$sql</td>
<td>n/a</td>
<td></td>
<td></td>
</tr></tbody>
</table>
<h4>Return value</h4>
<table>
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td>mixed</td>
<td></td>
</tr></tbody>
</table>
</div>
<div class="method">
<a id="dbo_mssql::getConfig()"></a><h3>getConfig<span class="nb-faded-text">(
          string $what
            = null,
          
          )
        </span>
        :
        <span class="nb-faded-text">array|string</span>
</h3>
<h4>Description</h4>
<em>a copy of the matching db-config entry in config/database.php</em><br><h4>Arguments</h4>
<table>
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr></thead>
<tbody><tr>
<td>$what</td>
<td>string</td>
<td>spezifies what to get ... null=complete config array</td>
<td>null</td>
</tr></tbody>
</table>
<h4>Return value</h4>
<table>
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td>array|string</td>
<td></td>
</tr></tbody>
</table>
</div>
<div class="method">
<a id="dbo_mssql::getFirstRowQuery()"></a><h3>getFirstRowQuery<span class="nb-faded-text">(
          string $sql,
          string $perPage,
          
          )
        </span>
        :
        <span class="nb-faded-text">string</span>
</h3>
<h4>Description</h4>
<em>build a sql-string that returns first matching row</em><br><h4>Arguments</h4>
<table>
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr></thead>
<tbody>
<tr>
<td>$sql</td>
<td>string</td>
<td>query</td>
<td></td>
</tr>
<tr>
<td>$perPage</td>
<td>string</td>
<td>expression</td>
<td></td>
</tr>
</tbody>
</table>
<h4>Return value</h4>
<table>
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td>string</td>
<td>(limited) Query</td>
</tr></tbody>
</table>
</div>
<div class="method">
<a id="dbo_mssql::getLink()"></a><h3>getLink<span class="nb-faded-text">(
          
          )
        </span>
        :
        <span class="nb-faded-text">n/a</span>
</h3>
<h4>Description</h4>
<em>return the current link to the database, connect first if needed</em><br><h4>Return value</h4>
<table>
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td>n/a</td>
<td>n/a</td>
</tr></tbody>
</table>
</div>
<div class="method">
<a id="dbo_mssql::getPageQuery()"></a><h3>getPageQuery<span class="nb-faded-text">(
           $sql,
           $page,
           $perPage,
          
          )
        </span>
        :
        <span class="nb-faded-text">string</span>
</h3>
<h4>Description</h4>
<em>build a sql-string that returns paged data
every computed output has to be named !!! so 'max(x)' has to be 'max(x) as maxX' or something like that...</em><br><small>
some warnings/comments from dietmar riess:
IF There is no IDENTITY FIELD we can numbering Rows with temp Table
IF There is an IDENTITY FIELD we have to execute the much slower EXCEPT Query
Also we know there is an IDENTITY FIELD we can't use it, because we do not! know which column it is !</small><br><h4>Arguments</h4>
<table>
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr></thead>
<tbody>
<tr>
<td>$sql</td>
<td>n/a</td>
<td></td>
<td></td>
</tr>
<tr>
<td>$page</td>
<td>n/a</td>
<td></td>
<td></td>
</tr>
<tr>
<td>$perPage</td>
<td>n/a</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h4>Return value</h4>
<table>
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td>string</td>
<td>finished query</td>
</tr></tbody>
</table>
<h4>Tags</h4>
<table>
<thead><tr>
<th>Name</th>
<th>Description</th>
<th>Link</th>
</tr></thead>
<tbody><tr>
<td>see</td>
<td>getPageQuery Interface</td>
<td></td>
</tr></tbody>
</table>
</div>
<div class="method">
<a id="dbo_mssql::getSqlCommand()"></a><h3>getSqlCommand<span class="nb-faded-text">(
          string $sql,
          
          )
        </span>
        :
        <span class="nb-faded-text">string</span>
</h3>
<h4>Description</h4>
<em>return the Sql-Command of given Query</em><br><h4>Arguments</h4>
<table>
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr></thead>
<tbody><tr>
<td>$sql</td>
<td>string</td>
<td>query</td>
<td></td>
</tr></tbody>
</table>
<h4>Return value</h4>
<table>
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td>string</td>
<td>Sql-Command</td>
</tr></tbody>
</table>
</div>
<div class="method">
<a id="dbo_mssql::isConnected()"></a><h3>isConnected<span class="nb-faded-text">(
          
          )
        </span>
        :
        <span class="nb-faded-text">n/a</span>
</h3>
<h4>Return value</h4>
<table>
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td>n/a</td>
<td>n/a</td>
</tr></tbody>
</table>
</div>
<div class="method">
<a id="dbo_mssql::isValidOperator()"></a><h3>isValidOperator<span class="nb-faded-text">(
          string $operator,
          
          )
        </span>
        :
        <span class="nb-faded-text">boolean</span>
</h3>
<h4>Description</h4>
<em>checks if given operator is valid</em><br><h4>Arguments</h4>
<table>
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr></thead>
<tbody><tr>
<td>$operator</td>
<td>string</td>
<td></td>
<td></td>
</tr></tbody>
</table>
<h4>Return value</h4>
<table>
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td>boolean</td>
<td></td>
</tr></tbody>
</table>
</div>
<div class="method">
<a id="dbo_mssql::lastAffected()"></a><h3>lastAffected<span class="nb-faded-text">(
          
          )
        </span>
        :
        <span class="nb-faded-text">int</span>
</h3>
<h4>Description</h4>
<em>return numbers of rows affected by last query</em><br><h4>Return value</h4>
<table>
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td>int</td>
<td></td>
</tr></tbody>
</table>
</div>
<div class="method">
<a id="dbo_mssql::lastInsertId()"></a><h3>lastInsertId<span class="nb-faded-text">(
          
          )
        </span>
        :
        <span class="nb-faded-text">int</span>
</h3>
<h4>Description</h4>
<em>return id of primary key of last insert</em><br><h4>Return value</h4>
<table>
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td>int</td>
<td></td>
</tr></tbody>
</table>
</div>
<div class="method">
<a id="dbo_mssql::lastResult()"></a><h3>lastResult<span class="nb-faded-text">(
           $idnames
            = false,
          
          )
        </span>
        :
        <span class="nb-faded-text">n/a</span>
</h3>
<h4>Description</h4>
<em>return the result of the last query.</em><br><h4>Arguments</h4>
<table>
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr></thead>
<tbody><tr>
<td>$idnames</td>
<td>n/a</td>
<td></td>
<td>false</td>
</tr></tbody>
</table>
<h4>Return value</h4>
<table>
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td>n/a</td>
<td>n/a</td>
</tr></tbody>
</table>
</div>
<div class="method">
<a id="dbo_mssql::makeDateTime()"></a><h3>makeDateTime<span class="nb-faded-text">(
          integer $t,
          
          )
        </span>
        :
        <span class="nb-faded-text">string</span>
</h3>
<h4>Description</h4>
<em>return the sql needed to convert a unix timestamp to datetime</em><br><h4>Arguments</h4>
<table>
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr></thead>
<tbody><tr>
<td>$t</td>
<td>integer</td>
<td>unixtime</td>
<td></td>
</tr></tbody>
</table>
<h4>Return value</h4>
<table>
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td>string</td>
<td></td>
</tr></tbody>
</table>
</div>
<div class="method">
<a id="dbo_mssql::query()"></a><h3>query<span class="nb-faded-text">(
          string $s,
           $idnames
            = false,
           $fields
            = false,
          
          )
        </span>
        :
        <span class="nb-faded-text">array</span>
</h3>
<h4>Description</h4>
<em>execute query and return useful data depending on query-type</em><br><h4>Arguments</h4>
<table>
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr></thead>
<tbody>
<tr>
<td>$s</td>
<td>string</td>
<td>sql-statement</td>
<td></td>
</tr>
<tr>
<td>$idnames</td>
<td>n/a</td>
<td></td>
<td>false</td>
</tr>
<tr>
<td>$fields</td>
<td>n/a</td>
<td></td>
<td>false</td>
</tr>
</tbody>
</table>
<h4>Return value</h4>
<table>
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td>array</td>
<td></td>
</tr></tbody>
</table>
</div>
<div class="method">
<a id="dbo_mssql::quoteName()"></a><h3>quoteName<span class="nb-faded-text">(
          string $s,
          
          )
        </span>
        :
        <span class="nb-faded-text">string</span>
</h3>
<h4>Description</h4>
<em>used to quote table and field names</em><br><h4>Arguments</h4>
<table>
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr></thead>
<tbody><tr>
<td>$s</td>
<td>string</td>
<td>string to enquote;</td>
<td></td>
</tr></tbody>
</table>
<h4>Return value</h4>
<table>
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td>string</td>
<td>enquoted string</td>
</tr></tbody>
</table>
</div>
<div class="method">
<a id="dbo_mssql::replace()"></a><h3>replace<span class="nb-faded-text">(
          string $tableName,
          array $fields,
          string $pairs,
          
          )
        </span>
        :
        <span class="nb-faded-text">int</span>
</h3>
<h4>Description</h4>
<em>REPLACE works like INSERT,
except that if an old row in the table has the same value as a new row for a PRIMARY KEY or a UNIQUE index,</em><br><small>the old row is deleted before the new row is inserted</small><br><h4>Arguments</h4>
<table>
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr></thead>
<tbody>
<tr>
<td>$tableName</td>
<td>string</td>
<td>replace from this table</td>
<td></td>
</tr>
<tr>
<td>$fields</td>
<td>array</td>
<td>name=>value pairs of new values</td>
<td></td>
</tr>
<tr>
<td>$pairs</td>
<td>string</td>
<td>enquoted names to escaped pairs z.B.[name]='value'</td>
<td></td>
</tr>
</tbody>
</table>
<h4>Return value</h4>
<table>
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td>int</td>
<td>modified rows.</td>
</tr></tbody>
</table>
</div>
<div class="method">
<a id="dbo_mssql::setConfig()"></a><h3>setConfig<span class="nb-faded-text">(
           $config,
          
          )
        </span>
        :
        <span class="nb-faded-text">n/a</span>
</h3>
<h4>Arguments</h4>
<table>
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr></thead>
<tbody><tr>
<td>$config</td>
<td>n/a</td>
<td></td>
<td></td>
</tr></tbody>
</table>
<h4>Return value</h4>
<table>
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td>n/a</td>
<td>n/a</td>
</tr></tbody>
</table>
</div>
<div class="method">
<a id="dbo_mssql::setEncoding()"></a><h3>setEncoding<span class="nb-faded-text">(
           $enc,
          
          )
        </span>
        :
        <span class="nb-faded-text">n/a</span>
</h3>
<h4>Description</h4>
<em>unused right now, later possibly used by model to set right encoding</em><br><h4>Arguments</h4>
<table>
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr></thead>
<tbody><tr>
<td>$enc</td>
<td>n/a</td>
<td></td>
<td></td>
</tr></tbody>
</table>
<h4>Return value</h4>
<table>
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td>n/a</td>
<td>n/a</td>
</tr></tbody>
</table>
</div>
<div class="method">
<a id="dbo_mssql::setLink()"></a><h3>setLink<span class="nb-faded-text">(
           $l,
          
          )
        </span>
        :
        <span class="nb-faded-text">n/a</span>
</h3>
<h4>Description</h4>
<em>inject db link into dbo</em><br><h4>Arguments</h4>
<table>
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr></thead>
<tbody><tr>
<td>$l</td>
<td>n/a</td>
<td></td>
<td></td>
</tr></tbody>
</table>
<h4>Return value</h4>
<table>
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td>n/a</td>
<td>n/a</td>
</tr></tbody>
</table>
</div>
</div>
<div id="properties_dbo_mssql">
<h2>Properties</h2>
<a href="#dbo_mssql::%24dbconfig">$dbconfig</a>,
      <a href="#dbo_mssql::%24link">$link</a>,
      <a href="#dbo_mssql::%24queries">$queries</a>,
      <a href="#dbo_mssql::%24quoteLeft">$quoteLeft</a>,
      <a href="#dbo_mssql::%24quoteRight">$quoteRight</a>,
      <a href="#dbo_mssql::%24result">$result</a>,
      <div class="method">
<a id="dbo_mssql::$dbconfig"></a><h3>
<span class="nb-faded-text">array 
          private 
          </span>$dbconfig</h3>
<em>a copy of the matching db-config entry in config/database.php</em><br><small></small><br><br>
</div>
<div class="method">
<a id="dbo_mssql::$link"></a><h3>
<span class="nb-faded-text">int 
          private 
          </span>$link</h3>
<em>a placeholder for the database link needed for this database</em><br><small></small><br><br>
</div>
<div class="method">
<a id="dbo_mssql::$queries"></a><h3>
<span class="nb-faded-text">array 
          private 
          </span>$queries</h3>
<em>an array that holds all queries and some relevant information about them if DEBUG</em><br><small></small><br><br>
</div>
<div class="method">
<a id="dbo_mssql::$quoteLeft"></a><h3>
<span class="nb-faded-text"> 
          private 
          </span>$quoteLeft</h3>
<em>constants used to quote table and field names</em><br><small></small><br><br>
</div>
<div class="method">
<a id="dbo_mssql::$quoteRight"></a><h3>
<span class="nb-faded-text"> 
          private 
          </span>$quoteRight</h3>
<em></em><br><br>
</div>
<div class="method">
<a id="dbo_mssql::$result"></a><h3>
<span class="nb-faded-text">array 
          private 
          </span>$result</h3>
<em>a placeholder for any result the database returned</em><br><small></small><br><br>
</div>
</div>
</div></div></div></div><div id="menu"><div class="padder"><h1><img src="../images/logo.png" alt=""></img></h1><div id="search-box"><script xmlns="" type="text/javascript">
      $(function() {

        var is_chrome = /chrome/.test( navigator.userAgent.toLowerCase() );
        var is_local = /file:\/\//.test(document.location.href);
        if (is_chrome && is_local)
        {
          // search is disabled on chrome with local files due to http://code.google.com/p/chromium/issues/detail?id=40787
          return;
        }

        $("#search_box").show();
        var search_index = {};
        $.ajax({
          url: "../search_index.xml",
          dataType: ($.browser.msie) ? "text" : "xml",
          error: function(data) {
            alert('An error occurred using the search data');
          },
          success: function( data ) {
            var xml;
            if (typeof data == "string") {
              xml = new ActiveXObject("Microsoft.XMLDOM");
              xml.async = false;
              xml.loadXML(data);
            } else {
              xml = data;
            }

            search_index = $("node", xml).map(function() {
              type = $("type", this).text();
              return {
                value: $("value", this).text(),
                label: '<img src="../images/icons/'+type+'.png" align="absmiddle">'+$("value", this).text(),
                id: $("id", this).text(),
              };
            }).get();

            $("#search_box").autocomplete({
              source: search_index,
              select: function(event, ui) {
                // redirect to the documentation
                $(location).attr('href', '../'+ui.item.id);
                applySearchHash();
              }
            });
          }
        });
      });
    </script><input id="search_box" style="display: none"></input></div><h4>Documentation</h4><ul><li><a href="../index.html">Class diagram</a></li><li><a href="../markers.html">TODO / Markers</a></li></ul></div></div><div id="index"><div class="padder"><h1>Namespaces</h1><ul id="namespaces-" class="treeview-docblox"><li class="namespace closed">
<div class="content"><span>default</span></div>
<ul>
<li><div class="content">
<span><a href="../files/boot_strict.html#kataStrictError">kataStrictError</a></span><small>our own exception to inject line and file into exception</small>
</div></li>
<li><div class="content">
<span><a href="../files/class_registry.html#classRegistry">classRegistry</a></span><small>Class-registry, a pseudo-singleton wrapper. Used to memorize and return all classes we did already instanciate.</small>
</div></li>
<li><div class="content">
<span><a href="../files/clustermodel.html#ClusterModel">ClusterModel</a></span><small>The cluster enabled model-class
give it an array of connection-names for database-masters (those are used to alter data)</small>
</div></li>
<li><div class="content">
<span><a href="../files/controller.html#Controller">Controller</a></span><small>The controller itself. Is initialized by the dispatcher.</small>
</div></li>
<li><div class="content">
<span><a href="../files/controller.html#Component">Component</a></span><small>base component class</small>
</div></li>
<li><div class="content">
<span><a href="../files/controllers_app_controller.html#AppController">AppController</a></span><small>A dummy-class that is included if the user does not supply an appcontroller.</small>
</div></li>
<li><div class="content">
<span><a href="../files/controllers_components_client.session.html#SessionComponent">SessionComponent</a></span><small>An experimental component for object oriented session handling using encrypted client-side cookies.
keep in mind: this cookie is VERY BIG and is sent on EVERY request, even images!</small>
</div></li>
<li><div class="content">
<span><a href="../files/controllers_components_file.session.html#SessionComponent">SessionComponent</a></span><small>A component for object oriented session handling using standard filesystem cookies</small>
</div></li>
<li><div class="content">
<span><a href="../files/controllers_components_locale.html#LocaleComponent">LocaleComponent</a></span><small>The Locale-Component Class</small>
</div></li>
<li><div class="content">
<span><a href="../files/controllers_components_memcached.session.html#SessionComponent">SessionComponent</a></span><small>A component for object oriented session handling using memcached
needs PECL memcached-extension 2.1.2 or bigger</small>
</div></li>
<li><div class="content">
<span><a href="../files/controllers_components_session.html#baseSessionComponent">baseSessionComponent</a></span><small>base session class</small>
</div></li>
<li><div class="content">
<span><a href="../files/controllers_scaffold_controller.html#ScaffoldController">ScaffoldController</a></span><small>default scaffolding-controller. extend it and use the hooks to costumize functionality</small>
</div></li>
<li><div class="content">
<span><a href="../files/databaseconnectexception.html#DatabaseConnectException">DatabaseConnectException</a></span><small>Thrown on database connection problems</small>
</div></li>
<li><div class="content">
<span><a href="../files/databaseduplicateexception.html#DatabaseDuplicateException">DatabaseDuplicateException</a></span><small>Thrown if an sql-query generates an duplication error due du primary/unique constraints</small>
</div></li>
<li><div class="content">
<span><a href="../files/databaseerrorexception.html#DatabaseErrorException">DatabaseErrorException</a></span><small>Thrown if an sql-query generates an error</small>
</div></li>
<li><div class="content">
<span><a href="../files/dbo_mssql.html#dbo_mssql">dbo_mssql</a></span><small>this class is used by the model to access the database itself</small>
</div></li>
<li><div class="content">
<span><a href="../files/dbo_mysql.html#dbo_mysql">dbo_mysql</a></span><small>this class is used by the model to access the database itself</small>
</div></li>
<li><div class="content">
<span><a href="../files/dbo_pdo.html#dbo_pdo">dbo_pdo</a></span><small>this class is used by the model to access the database itself</small>
</div></li>
<li><div class="content">
<span><a href="../files/dispatcher.html#dispatcher">dispatcher</a></span><small>dispatcher. this is the first thing that is constructed.
the dispatcher then collects all parameters given via get/post and instanciates the right controller</small>
</div></li>
<li><div class="content">
<span><a href="../files/helper.html#Helper">Helper</a></span><small>helper base-class. helpers are the classes you can access via $this-&gt;helpername inside a view</small>
</div></li>
<li><div class="content">
<span><a href="../files/kataext.html#kataExt">kataExt</a></span><small>you can freely add methods to this class at runtime</small>
</div></li>
<li><div class="content">
<span><a href="../files/kataglob.html#kataGlob">kataGlob</a></span><small>class for easy handling of global variables</small>
</div></li>
<li><div class="content">
<span><a href="../files/katahardtyped.html#kataHardtyped">kataHardtyped</a></span><small>type-enforcement class. just base your class on this class
- dont forget to call parent::__construct() if you override the c&quot;tor</small>
</div></li>
<li><div class="content">
<span><a href="../files/kataimmutable.html#kataImmutable">kataImmutable</a></span><small>todo</small>
</div></li>
<li><div class="content">
<span><a href="../files/katareg.html#kataReg">kataReg</a></span><small>registry, a configuration object that persists itself on disk.
split keys into individial sections with a dot. if you read a section an array will be returned with all keys in that section</small>
</div></li>
<li><div class="content">
<span><a href="../files/kata_functions.html#kataFunc">kataFunc</a></span><small>static wrapper class so dont we pollute any namespace anymore</small>
</div></li>
<li><div class="content">
<span><a href="../files/model.html#Model">Model</a></span><small>The base model-class that all models derive from</small>
</div></li>
<li><div class="content">
<span><a href="../files/modelloader.html#ModelLoader">ModelLoader</a></span><small>use other models inside models just like inside controllers</small>
</div></li>
<li><div class="content">
<span><a href="../files/modelloadermodel.html#ModelLoaderModel">ModelLoaderModel</a></span><small>use other models inside models just like inside controllers</small>
</div></li>
<li><div class="content">
<span><a href="../files/models_app_model.html#AppModel">AppModel</a></span><small>A dummy-class that is included if the user does not supply an appmodel.</small>
</div></li>
<li><div class="content">
<span><a href="../files/smartyview.html#SmartyView">SmartyView</a></span><small>smarty view class. used to render the view (and layout) for the controller. ALPHAish.
to use put the following in your controller:</small>
</div></li>
<li><div class="content">
<span><a href="../files/utilities_cacheutility.html#CacheUtility">CacheUtility</a></span><small>a universal caching class that can store data using several methods</small>
</div></li>
<li><div class="content">
<span><a href="../files/utilities_clusterlockutility.html#ClusterlockUtility">ClusterlockUtility</a></span><small>CLUSTERwide locking mechanism with timeout for critical sections or eventhandlers
(needs memcached)</small>
</div></li>
<li><div class="content">
<span><a href="../files/utilities_extcacheutility.html#ExtcacheUtility">ExtcacheUtility</a></span><small>extends the normal cacheutility with more memcached functions</small>
</div></li>
<li><div class="content">
<span><a href="../files/utilities_httputility.html#HttpUtility">HttpUtility</a></span><small>http-request class that does GET and POST (and even SSL) and has no dependencies</small>
</div></li>
<li><div class="content">
<span><a href="../files/utilities_imageutility.html#ImageUtility">ImageUtility</a></span><small>routines to resize images and handle downloads</small>
</div></li>
<li><div class="content">
<span><a href="../files/utilities_iputility.html#IpUtility">IpUtility</a></span><small>some ip utility functions</small>
</div></li>
<li><div class="content">
<span><a href="../files/utilities_lockutility.html#LockUtility">LockUtility</a></span><small>systemwide locking mechanism with timeout for critical sections or eventhandlers</small>
</div></li>
<li><div class="content">
<span><a href="../files/utilities_minifyutility.html#MinifyUtility">MinifyUtility</a></span><small>methods to compress css and javascript</small>
</div></li>
<li><div class="content">
<span><a href="../files/utilities_minifyutility.html#JSMin">JSMin</a></span><small>jsmin.php - PHP implementation of Douglas Crockford&quot;s JSMin.</small>
</div></li>
<li><div class="content">
<span><a href="../files/utilities_minifyutility.html#JSMinException">JSMinException</a></span><small>Exceptions ---------------------------------------------------------------</small>
</div></li>
<li><div class="content">
<span><a href="../files/utilities_rsautility.html#RsaUtility">RsaUtility</a></span><small>rsa asymetric crypto related functions</small>
</div></li>
<li><div class="content">
<span><a href="../files/utilities_simpleparseutility.html#SimpleparseUtility">SimpleparseUtility</a></span><small>routines for super simple pattern parsing</small>
</div></li>
<li><div class="content">
<span><a href="../files/utilities_validateutility.html#ValidateUtility">ValidateUtility</a></span><small>check if an array of parameters matches certain criterias.
you can still use the (deprecated) defines of model.php (until i murder you)</small>
</div></li>
<li><div class="content">
<span><a href="../files/view.html#View">View</a></span><small>default view class. used to render the view (and layout) for the controller</small>
</div></li>
<li><div class="content">
<span><a href="../files/views_helpers_form.html#FormHelper">FormHelper</a></span><small>form helper for super-easy form handling</small>
</div></li>
<li><div class="content">
<span><a href="../files/views_helpers_html.html#HtmlHelper">HtmlHelper</a></span><small>the default html-helper, available in each view.
modify this helper, or build your own one.</small>
</div></li>
<li><div class="content">
<span><a href="../files/views_helpers_js.html#JsHelper">JsHelper</a></span><small>nano-helper for javascript. simply add() javascript in your view, and get() it inside the head-section of your layout</small>
</div></li>
</ul>
</li></ul><h1>Packages</h1><ul id="packages-" class="treeview-docblox">
<li class="package closed">
<div class="content"><span>JSMin</span></div>
<ul id="packages_JSMin" class="treeview-docblox">
<li class="closed"><div class="content">
<span><a href="../files/utilities_minifyutility.html#JSMin">JSMin</a></span><small>jsmin.php - PHP implementation of Douglas Crockford&quot;s JSMin.</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/utilities_minifyutility.html#JSMinException">JSMinException</a></span><small>Exceptions ---------------------------------------------------------------</small>
</div></li>
</ul>
</li>
<li class="package closed">
<div class="content"><span>kata</span></div>
<ul id="packages_kata" class="treeview-docblox"></ul>
</li>
<li class="package closed">
<div class="content"><span>kata_component</span></div>
<ul id="packages_kata_component" class="treeview-docblox">
<li class="closed"><div class="content">
<span><a href="../files/controller.html#Component">Component</a></span><small>base component class</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/controllers_components_client.session.html#SessionComponent">SessionComponent</a></span><small>An experimental component for object oriented session handling using encrypted client-side cookies.
keep in mind: this cookie is VERY BIG and is sent on EVERY request, even images!</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/controllers_components_file.session.html#SessionComponent">SessionComponent</a></span><small>A component for object oriented session handling using standard filesystem cookies</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/controllers_components_locale.html#LocaleComponent">LocaleComponent</a></span><small>The Locale-Component Class</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/controllers_components_memcached.session.html#SessionComponent">SessionComponent</a></span><small>A component for object oriented session handling using memcached
needs PECL memcached-extension 2.1.2 or bigger</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/controllers_components_session.html#baseSessionComponent">baseSessionComponent</a></span><small>base session class</small>
</div></li>
</ul>
</li>
<li class="package closed">
<div class="content"><span>kata_controller</span></div>
<ul id="packages_kata_controller" class="treeview-docblox">
<li class="closed"><div class="content">
<span><a href="../files/controller.html#Controller">Controller</a></span><small>The controller itself. Is initialized by the dispatcher.</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/controllers_app_controller.html#AppController">AppController</a></span><small>A dummy-class that is included if the user does not supply an appcontroller.</small>
</div></li>
</ul>
</li>
<li class="package closed">
<div class="content"><span>kata_debugging</span></div>
<ul id="packages_kata_debugging" class="treeview-docblox"><li class="closed"><div class="content">
<span><a href="../files/boot_strict.html#kataStrictError">kataStrictError</a></span><small>our own exception to inject line and file into exception</small>
</div></li></ul>
</li>
<li class="package closed">
<div class="content"><span>kata_helper</span></div>
<ul id="packages_kata_helper" class="treeview-docblox">
<li class="closed"><div class="content">
<span><a href="../files/helper.html#Helper">Helper</a></span><small>helper base-class. helpers are the classes you can access via $this-&gt;helpername inside a view</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/views_helpers_form.html#FormHelper">FormHelper</a></span><small>form helper for super-easy form handling</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/views_helpers_html.html#HtmlHelper">HtmlHelper</a></span><small>the default html-helper, available in each view.
modify this helper, or build your own one.</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/views_helpers_js.html#JsHelper">JsHelper</a></span><small>nano-helper for javascript. simply add() javascript in your view, and get() it inside the head-section of your layout</small>
</div></li>
</ul>
</li>
<li class="package closed">
<div class="content"><span>kata_internal</span></div>
<ul id="packages_kata_internal" class="treeview-docblox">
<li class="closed"><div class="content">
<span><a href="../files/class_registry.html#classRegistry">classRegistry</a></span><small>Class-registry, a pseudo-singleton wrapper. Used to memorize and return all classes we did already instanciate.</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/dispatcher.html#dispatcher">dispatcher</a></span><small>dispatcher. this is the first thing that is constructed.
the dispatcher then collects all parameters given via get/post and instanciates the right controller</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/kataext.html#kataExt">kataExt</a></span><small>you can freely add methods to this class at runtime</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/kataglob.html#kataGlob">kataGlob</a></span><small>class for easy handling of global variables</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/katahardtyped.html#kataHardtyped">kataHardtyped</a></span><small>type-enforcement class. just base your class on this class
- dont forget to call parent::__construct() if you override the c&quot;tor</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/kataimmutable.html#kataImmutable">kataImmutable</a></span><small>todo</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/katareg.html#kataReg">kataReg</a></span><small>registry, a configuration object that persists itself on disk.
split keys into individial sections with a dot. if you read a section an array will be returned with all keys in that section</small>
</div></li>
</ul>
</li>
<li class="package closed">
<div class="content"><span>kata_model</span></div>
<ul id="packages_kata_model" class="treeview-docblox">
<li class="closed"><div class="content">
<span><a href="../files/clustermodel.html#ClusterModel">ClusterModel</a></span><small>The cluster enabled model-class
give it an array of connection-names for database-masters (those are used to alter data)</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/databaseconnectexception.html#DatabaseConnectException">DatabaseConnectException</a></span><small>Thrown on database connection problems</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/databaseduplicateexception.html#DatabaseDuplicateException">DatabaseDuplicateException</a></span><small>Thrown if an sql-query generates an duplication error due du primary/unique constraints</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/databaseerrorexception.html#DatabaseErrorException">DatabaseErrorException</a></span><small>Thrown if an sql-query generates an error</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/dbo_mssql.html#dbo_mssql">dbo_mssql</a></span><small>this class is used by the model to access the database itself</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/dbo_mysql.html#dbo_mysql">dbo_mysql</a></span><small>this class is used by the model to access the database itself</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/dbo_pdo.html#dbo_pdo">dbo_pdo</a></span><small>this class is used by the model to access the database itself</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/model.html#Model">Model</a></span><small>The base model-class that all models derive from</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/modelloader.html#ModelLoader">ModelLoader</a></span><small>use other models inside models just like inside controllers</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/modelloadermodel.html#ModelLoaderModel">ModelLoaderModel</a></span><small>use other models inside models just like inside controllers</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/models_app_model.html#AppModel">AppModel</a></span><small>A dummy-class that is included if the user does not supply an appmodel.</small>
</div></li>
</ul>
</li>
<li class="package closed">
<div class="content"><span>kata_scaffold</span></div>
<ul id="packages_kata_scaffold" class="treeview-docblox"><li class="closed"><div class="content">
<span><a href="../files/controllers_scaffold_controller.html#ScaffoldController">ScaffoldController</a></span><small>default scaffolding-controller. extend it and use the hooks to costumize functionality</small>
</div></li></ul>
</li>
<li class="package closed">
<div class="content"><span>kata_utility</span></div>
<ul id="packages_kata_utility" class="treeview-docblox">
<li class="closed"><div class="content">
<span><a href="../files/utilities_cacheutility.html#CacheUtility">CacheUtility</a></span><small>a universal caching class that can store data using several methods</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/utilities_clusterlockutility.html#ClusterlockUtility">ClusterlockUtility</a></span><small>CLUSTERwide locking mechanism with timeout for critical sections or eventhandlers
(needs memcached)</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/utilities_extcacheutility.html#ExtcacheUtility">ExtcacheUtility</a></span><small>extends the normal cacheutility with more memcached functions</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/utilities_httputility.html#HttpUtility">HttpUtility</a></span><small>http-request class that does GET and POST (and even SSL) and has no dependencies</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/utilities_imageutility.html#ImageUtility">ImageUtility</a></span><small>routines to resize images and handle downloads</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/utilities_iputility.html#IpUtility">IpUtility</a></span><small>some ip utility functions</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/utilities_lockutility.html#LockUtility">LockUtility</a></span><small>systemwide locking mechanism with timeout for critical sections or eventhandlers</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/utilities_minifyutility.html#MinifyUtility">MinifyUtility</a></span><small>methods to compress css and javascript</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/utilities_rsautility.html#RsaUtility">RsaUtility</a></span><small>rsa asymetric crypto related functions</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/utilities_simpleparseutility.html#SimpleparseUtility">SimpleparseUtility</a></span><small>routines for super simple pattern parsing</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/utilities_validateutility.html#ValidateUtility">ValidateUtility</a></span><small>check if an array of parameters matches certain criterias.
you can still use the (deprecated) defines of model.php (until i murder you)</small>
</div></li>
</ul>
</li>
<li class="package closed">
<div class="content"><span>kata_view</span></div>
<ul id="packages_kata_view" class="treeview-docblox">
<li class="closed"><div class="content">
<span><a href="../files/smartyview.html#SmartyView">SmartyView</a></span><small>smarty view class. used to render the view (and layout) for the controller. ALPHAish.
to use put the following in your controller:</small>
</div></li>
<li class="closed"><div class="content">
<span><a href="../files/view.html#View">View</a></span><small>default view class. used to render the view (and layout) for the controller</small>
</div></li>
</ul>
</li>
</ul>
</div></div><div id="footer"><div class="padder"></div></div></div></body></html>

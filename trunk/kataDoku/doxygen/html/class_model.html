<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>kata: Model Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>Model Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="Model" --><div class="dynheader">
Inheritance diagram for Model:</div>
<div class="dyncontent">
<div class="center"><img src="class_model__inherit__graph.png" border="0" usemap="#_model_inherit__map" alt="Inheritance graph"/></div>
<map name="_model_inherit__map" id="_model_inherit__map">
<area shape="rect" id="node3" href="class_app_model.html" title="AppModel" alt="" coords="31,83,111,111"/><area shape="rect" id="node7" href="class_cluster_model.html" title="ClusterModel" alt="" coords="135,83,231,111"/><area shape="rect" id="node5" href="class_model_loader_model.html" title="ModelLoaderModel" alt="" coords="5,161,136,189"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_model-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#a112774fb82b3dbec49b222358b52c794">log</a> ($what, $where)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#a3d6598eab43e9d79525ceee3c5103edc">dbo</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#a8c2d5caf005161a4b6928914229aabfc">changeConnection</a> ($connName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#af053bba455cb542d35f6855f1fc954da">getConnectionName</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac8d304f1e1db6f760aa7758f578d19f7"></a><!-- doxytag: member="Model::getConfig" ref="ac8d304f1e1db6f760aa7758f578d19f7" args="($what=null)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>getConfig</b> ($what=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="add6f064854c7948caf6e7e28ee0ee360"></a><!-- doxytag: member="Model::getLink" ref="add6f064854c7948caf6e7e28ee0ee360" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>getLink</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#ac308b470fe9a7acd0b13754ac13e0160">getTableName</a> ($n=null, $withPrefix=true, $quoted=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#a8ebd20a84ad992dff5621c24b9a342d8">getPrefix</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#a5ec535675d29f74b1020aa9a895ca11c">query</a> ($s=null, $idnames=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#af0d5536c1011705e3b2704a6ee837e75">cachedQuery</a> ($s, $idname=false, $cacheid=false, $ttl=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#ad50a61cc9500c68907f23d68daee6dfd">escape</a> ($s)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#a257876be5bf9db75d96451b43fdc016a">quote</a> ($s)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#a5d9919f58e4ce755aebb52fc53d5f76c">quoteName</a> ($s)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#a20a78c2526737da4653da2de47a8d04f">makeDateTime</a> ($t)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#a11e31c1446243b22ebec40168f23f13b">pairs</a> ($params)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#ac339a505325fbced540032c0da793b64">getWhereString</a> ($id, $tableName, $allowKey=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#a90d590d4651632bcec5e9a7599c342c9">find</a> ($method= '', $params=array(), $tableName=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#a9c8ae3a5b6c6445fe06771b3d46b65bf">read</a> ($id=null, $fields=null, $tableName=null, $fieldName=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#a2281bb21b667e2947639f510c5d9daf9">bulkcreate</a> ($fields=null, $tableName=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#a5a5b099b549460fd3cab765dcc463626">create</a> ($fields=null, $tableName=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#abb9df66686f804e7be369b54be567e4e">delete</a> ($id=null, $tableName=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#a824e09eaf56c56735787ccd07590abb4">update</a> ($id=null, $fields, $tableName=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#ae261c2777ad664badbcf2c24a1b681a4">replace</a> ($fields=null, $tableName=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#a55744de3079ef0e5217dac008a4a1feb">describe</a> ($tableName=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#a2c4134537435a400d00ed6e085d0f135">validate</a> ($params=null, $what=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#a55263e118d084afd514d90d88b307ce8">getModel</a> ($name)</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a18261e4f14ddf26e0dc7b7d83209f9ec"></a><!-- doxytag: member="Model::$connection" ref="a18261e4f14ddf26e0dc7b7d83209f9ec" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$connection</b> = 'default'</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a25ade72b4e0b48c0946f4ec266f7f437"></a><!-- doxytag: member="Model::$useTable" ref="a25ade72b4e0b48c0946f4ec266f7f437" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$useTable</b> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a465b8205879f9c2ddb8c7f374cba9b89"></a><!-- doxytag: member="Model::$useIndex" ref="a465b8205879f9c2ddb8c7f374cba9b89" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$useIndex</b> = 'id'</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_model.html#ae4ad496968b2957ec568e824e8f636fb">setupDbo</a> ($connName)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af49304aa21c9598b5a07edaff795080b"></a><!-- doxytag: member="Model::$dboClass" ref="af49304aa21c9598b5a07edaff795080b" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$dboClass</b> = null</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="model_8php_source.html#l00043">43</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a2281bb21b667e2947639f510c5d9daf9"></a><!-- doxytag: member="Model::bulkcreate" ref="a2281bb21b667e2947639f510c5d9daf9" args="($fields=null, $tableName=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Model::bulkcreate </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>fields</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em> = <code>null</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>mass insert function </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$fields array of row-array to insert </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$tableName name of table to use or null for model default </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int number of successfully inserted rows </dd></dl>

<p>Definition at line <a class="el" href="model_8php_source.html#l00636">636</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>

</div>
</div>
<a class="anchor" id="af0d5536c1011705e3b2704a6ee837e75"></a><!-- doxytag: member="Model::cachedQuery" ref="af0d5536c1011705e3b2704a6ee837e75" args="($s, $idname=false, $cacheid=false, $ttl=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">&amp; Model::cachedQuery </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idname</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>cacheid</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>ttl</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Do a query that is cached via the cacheUtility. caching is done 'dumb', so altering the database wont invalidate the cache</p>
<p>A word of warning: If you dont supply an $idname, queries on different lines will result in different cachefiles</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$s sql-string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$idname if set the key of the array is set to the value of this field of the result-array. So the result is not numbered from 0..x but for example the value of the primary key </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$cacheid the id used to store this query in the cache. if ommited we try to build a suitable key </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>int</em>&nbsp;</td><td>$ttl time to live in seconds (0=infinite) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="model_8php_source.html#l00219">219</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_model_af0d5536c1011705e3b2704a6ee837e75_cgraph.png" border="0" usemap="#class_model_af0d5536c1011705e3b2704a6ee837e75_cgraph" alt=""/></div>
<map name="class_model_af0d5536c1011705e3b2704a6ee837e75_cgraph" id="class_model_af0d5536c1011705e3b2704a6ee837e75_cgraph">
<area shape="rect" id="node3" href="class_model.html#a5ec535675d29f74b1020aa9a895ca11c" title="Model::query" alt="" coords="195,5,291,33"/><area shape="rect" id="node5" href="class_model.html#a3d6598eab43e9d79525ceee3c5103edc" title="Model::dbo" alt="" coords="339,5,424,33"/><area shape="rect" id="node7" href="class_model.html#ae4ad496968b2957ec568e824e8f636fb" title="Model::setupDbo" alt="" coords="472,5,592,33"/><area shape="rect" id="node9" href="classclass_registry.html#a1619864201d4f4c9df8cb08ef05f7a09" title="classRegistry::getObject" alt="" coords="641,5,804,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8c2d5caf005161a4b6928914229aabfc"></a><!-- doxytag: member="Model::changeConnection" ref="a8c2d5caf005161a4b6928914229aabfc" args="($connName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Model::changeConnection </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>connName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>allowes you to switch the current connection dynamically.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$connName name of the new connection to use </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="model_8php_source.html#l00124">124</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_model_a8c2d5caf005161a4b6928914229aabfc_cgraph.png" border="0" usemap="#class_model_a8c2d5caf005161a4b6928914229aabfc_cgraph" alt=""/></div>
<map name="class_model_a8c2d5caf005161a4b6928914229aabfc_cgraph" id="class_model_a8c2d5caf005161a4b6928914229aabfc_cgraph">
<area shape="rect" id="node3" href="class_model.html#ae4ad496968b2957ec568e824e8f636fb" title="Model::setupDbo" alt="" coords="227,5,347,33"/><area shape="rect" id="node5" href="classclass_registry.html#a1619864201d4f4c9df8cb08ef05f7a09" title="classRegistry::getObject" alt="" coords="396,5,559,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5a5b099b549460fd3cab765dcc463626"></a><!-- doxytag: member="Model::create" ref="a5a5b099b549460fd3cab765dcc463626" args="($fields=null, $tableName=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Model::create </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>fields</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em> = <code>null</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>insert a record into the database.</p>
<p><code> $this-&gt;create(array('fooId'=&gt;1,'int1'=&gt;10,'int2'=&gt;20)); </code></p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$fields name=&gt;value pairs to be inserted into the table </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$tableName insert into this table (if ommitted: use tablename of this model, including prefix) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="model_8php_source.html#l00659">659</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>

</div>
</div>
<a class="anchor" id="a3d6598eab43e9d79525ceee3c5103edc"></a><!-- doxytag: member="Model::dbo" ref="a3d6598eab43e9d79525ceee3c5103edc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Model::dbo </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>lazy setup dbo the first time its used</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>object intialized dbo-class </dd></dl>

<p>Definition at line <a class="el" href="model_8php_source.html#l00088">88</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_model_a3d6598eab43e9d79525ceee3c5103edc_cgraph.png" border="0" usemap="#class_model_a3d6598eab43e9d79525ceee3c5103edc_cgraph" alt=""/></div>
<map name="class_model_a3d6598eab43e9d79525ceee3c5103edc_cgraph" id="class_model_a3d6598eab43e9d79525ceee3c5103edc_cgraph">
<area shape="rect" id="node3" href="class_model.html#ae4ad496968b2957ec568e824e8f636fb" title="Model::setupDbo" alt="" coords="139,5,259,33"/><area shape="rect" id="node5" href="classclass_registry.html#a1619864201d4f4c9df8cb08ef05f7a09" title="classRegistry::getObject" alt="" coords="308,5,471,33"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_model_a3d6598eab43e9d79525ceee3c5103edc_icgraph.png" border="0" usemap="#class_model_a3d6598eab43e9d79525ceee3c5103edc_icgraph" alt=""/></div>
<map name="class_model_a3d6598eab43e9d79525ceee3c5103edc_icgraph" id="class_model_a3d6598eab43e9d79525ceee3c5103edc_icgraph">
<area shape="rect" id="node3" href="class_model.html#ad50a61cc9500c68907f23d68daee6dfd" title="Model::escape" alt="" coords="161,5,268,33"/><area shape="rect" id="node9" href="class_model.html#a8ebd20a84ad992dff5621c24b9a342d8" title="Model::getPrefix" alt="" coords="157,55,272,83"/><area shape="rect" id="node13" href="class_model.html#a20a78c2526737da4653da2de47a8d04f" title="Model::makeDateTime" alt="" coords="139,106,291,134"/><area shape="rect" id="node15" href="class_model.html#a5ec535675d29f74b1020aa9a895ca11c" title="Model::query" alt="" coords="167,207,263,235"/><area shape="rect" id="node19" href="class_model.html#a5d9919f58e4ce755aebb52fc53d5f76c" title="Model::quoteName" alt="" coords="149,157,280,185"/><area shape="rect" id="node5" href="class_model.html#a257876be5bf9db75d96451b43fdc016a" title="Model::quote" alt="" coords="365,11,461,39"/><area shape="rect" id="node7" href="class_model.html#a11e31c1446243b22ebec40168f23f13b" title="Model::pairs" alt="" coords="537,71,628,99"/><area shape="rect" id="node11" href="class_model.html#ac308b470fe9a7acd0b13754ac13e0160" title="Model::getTableName" alt="" coords="340,69,487,97"/><area shape="rect" id="node17" href="class_model.html#af0d5536c1011705e3b2704a6ee837e75" title="Model::cachedQuery" alt="" coords="343,207,484,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abb9df66686f804e7be369b54be567e4e"></a><!-- doxytag: member="Model::delete" ref="abb9df66686f804e7be369b54be567e4e" args="($id=null, $tableName=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Model::delete </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>id</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em> = <code>null</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>delete the row whose id is matching</p>
<p><code> $this-&gt;delete(array('rowId'=&gt;10)); $this-&gt;delete(array( 'rowId'=&gt;20, 'and', 'parentId'=&gt;10 )); </code></p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$id primary key of row to delete </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$tableName delete from this table (if ommitted: use tablename of this model, including prefix) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="model_8php_source.html#l00692">692</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>

</div>
</div>
<a class="anchor" id="a55744de3079ef0e5217dac008a4a1feb"></a><!-- doxytag: member="Model::describe" ref="a55744de3079ef0e5217dac008a4a1feb" args="($tableName=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">&amp; Model::describe </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em> = <code>null</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>tries to reduce all fields of the given table to basic datatypes</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$tableName optional tablename to use </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array </dd></dl>

<p>Definition at line <a class="el" href="model_8php_source.html#l00770">770</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>

</div>
</div>
<a class="anchor" id="ad50a61cc9500c68907f23d68daee6dfd"></a><!-- doxytag: member="Model::escape" ref="ad50a61cc9500c68907f23d68daee6dfd" args="($s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Model::escape </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>s</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>escape possibly harmful strings so you can safely append them to an sql-string</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$s string to escape </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string escaped string </dd></dl>

<p>Definition at line <a class="el" href="model_8php_source.html#l00256">256</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_model_ad50a61cc9500c68907f23d68daee6dfd_cgraph.png" border="0" usemap="#class_model_ad50a61cc9500c68907f23d68daee6dfd_cgraph" alt=""/></div>
<map name="class_model_ad50a61cc9500c68907f23d68daee6dfd_cgraph" id="class_model_ad50a61cc9500c68907f23d68daee6dfd_cgraph">
<area shape="rect" id="node3" href="class_model.html#a3d6598eab43e9d79525ceee3c5103edc" title="Model::dbo" alt="" coords="160,5,245,33"/><area shape="rect" id="node5" href="class_model.html#ae4ad496968b2957ec568e824e8f636fb" title="Model::setupDbo" alt="" coords="293,5,413,33"/><area shape="rect" id="node7" href="classclass_registry.html#a1619864201d4f4c9df8cb08ef05f7a09" title="classRegistry::getObject" alt="" coords="463,5,625,33"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_model_ad50a61cc9500c68907f23d68daee6dfd_icgraph.png" border="0" usemap="#class_model_ad50a61cc9500c68907f23d68daee6dfd_icgraph" alt=""/></div>
<map name="class_model_ad50a61cc9500c68907f23d68daee6dfd_icgraph" id="class_model_ad50a61cc9500c68907f23d68daee6dfd_icgraph">
<area shape="rect" id="node3" href="class_model.html#a257876be5bf9db75d96451b43fdc016a" title="Model::quote" alt="" coords="160,5,256,33"/><area shape="rect" id="node5" href="class_model.html#a11e31c1446243b22ebec40168f23f13b" title="Model::pairs" alt="" coords="305,5,396,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a90d590d4651632bcec5e9a7599c342c9"></a><!-- doxytag: member="Model::find" ref="a90d590d4651632bcec5e9a7599c342c9" args="($method= '', $params=array(), $tableName=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Model::find </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>method</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>params</em> = <code>array&nbsp;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em> = <code>null</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>select rows using various methods (see $method for full list)</p>
<p>$method can be: 'all': return all matching rows as an array of results 'list': return matching rows as a multidimensional array that use keynames from your supplied 'listby' fields. similar to $idfields of <a class="el" href="class_model.html#a5ec535675d29f74b1020aa9a895ca11c">query()</a> 'count': return number of rows matching 'first': return first matching row</p>
<p>$conditions is used to construct a suitable WHERE-clause. fieldnames are default AND connected, just add an 'or' somewhere to change that. Example: 'conditions'=&gt;array('field1'=&gt;5',array('name LIKE'=&gt;'eter','or','name LIKE'=&gt;'eta'))</p>
<p>$order: array of fieldnames used to construct ORDER BY clause</p>
<p>$group: array of fieldnames used to construct GROUP BY clause</p>
<p>$listby: see above</p>
<p>$limit: how many rows to return (per page) </p>
<dl class="rcs"><dt><b>page:</b></dt><dd>which page to return (if </dd></dl>
<p>limit is set), first page is 1</p>
<p><code> $rows = $this-&gt;find('all',array( 'conditions' =&gt; array( // WHERE conditions to use. default all elements are AND, just add 'or' to the condition-array to change this 'field' =&gt; $thisValue, 'or', 'field2'=&gt;$value2, 'field3'=&gt;$value3, 'field4'=&gt;$value4 ), 'fields' =&gt; array( //array of field names that we should return. first field name is used as array-key if you use method 'list' and listby is unset 'field1', 'field2' ), 'order' =&gt; array( //string or array defining order. you can add DESC or ASC 'created', 'field3 DESC' ), 'group' =&gt; array( //fields to GROUP BY 'field' ), 'listby' =&gt; array( //only if find('list'): fields to arrange result-array by 'field1','field2' ), 'limit' =&gt; 50, //int, how many rows per page 'page' =&gt; 1, //int, which page, starting at 1 ),'mytable'); </code></p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$method can be 'all','list','count','first','neighbors' </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$params see example </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$tableName string or null to use modelname </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="model_8php_source.html#l00509">509</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>

</div>
</div>
<a class="anchor" id="af053bba455cb542d35f6855f1fc954da"></a><!-- doxytag: member="Model::getConnectionName" ref="af053bba455cb542d35f6855f1fc954da" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Model::getConnectionName </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>return currently used connection name (see database.php)</p>
<p>* </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="model_8php_source.html#l00134">134</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>

</div>
</div>
<a class="anchor" id="a55263e118d084afd514d90d88b307ce8"></a><!-- doxytag: member="Model::getModel" ref="a55263e118d084afd514d90d88b307ce8" args="($name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Model::getModel </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>name</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="class_model.html#a55263e118d084afd514d90d88b307ce8">getModel()</a> wrapper </p>

<p>Definition at line <a class="el" href="model_8php_source.html#l00801">801</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>

</div>
</div>
<a class="anchor" id="a8ebd20a84ad992dff5621c24b9a342d8"></a><!-- doxytag: member="Model::getPrefix" ref="a8ebd20a84ad992dff5621c24b9a342d8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Model::getPrefix </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>return the prefix configured for this connection</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="model_8php_source.html#l00191">191</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_model_a8ebd20a84ad992dff5621c24b9a342d8_cgraph.png" border="0" usemap="#class_model_a8ebd20a84ad992dff5621c24b9a342d8_cgraph" alt=""/></div>
<map name="class_model_a8ebd20a84ad992dff5621c24b9a342d8_cgraph" id="class_model_a8ebd20a84ad992dff5621c24b9a342d8_cgraph">
<area shape="rect" id="node3" href="class_model.html#a3d6598eab43e9d79525ceee3c5103edc" title="Model::dbo" alt="" coords="171,5,256,33"/><area shape="rect" id="node5" href="class_model.html#ae4ad496968b2957ec568e824e8f636fb" title="Model::setupDbo" alt="" coords="304,5,424,33"/><area shape="rect" id="node7" href="classclass_registry.html#a1619864201d4f4c9df8cb08ef05f7a09" title="classRegistry::getObject" alt="" coords="473,5,636,33"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_model_a8ebd20a84ad992dff5621c24b9a342d8_icgraph.png" border="0" usemap="#class_model_a8ebd20a84ad992dff5621c24b9a342d8_icgraph" alt=""/></div>
<map name="class_model_a8ebd20a84ad992dff5621c24b9a342d8_icgraph" id="class_model_a8ebd20a84ad992dff5621c24b9a342d8_icgraph">
<area shape="rect" id="node3" href="class_model.html#ac308b470fe9a7acd0b13754ac13e0160" title="Model::getTableName" alt="" coords="172,5,319,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac308b470fe9a7acd0b13754ac13e0160"></a><!-- doxytag: member="Model::getTableName" ref="ac308b470fe9a7acd0b13754ac13e0160" args="($n=null, $withPrefix=true, $quoted=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Model::getTableName </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>n</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>withPrefix</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>quoted</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>utility function to generate correct tablename</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$n tablename to use. if null uses $this-&gt;useTable. if that is also null uses modelname. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bool</em>&nbsp;</td><td>$withPrefix if true adds prefix and adds the correct quote-signs to the name </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="model_8php_source.html#l00164">164</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_model_ac308b470fe9a7acd0b13754ac13e0160_cgraph.png" border="0" usemap="#class_model_ac308b470fe9a7acd0b13754ac13e0160_cgraph" alt=""/></div>
<map name="class_model_ac308b470fe9a7acd0b13754ac13e0160_cgraph" id="class_model_ac308b470fe9a7acd0b13754ac13e0160_cgraph">
<area shape="rect" id="node3" href="class_model.html#a8ebd20a84ad992dff5621c24b9a342d8" title="Model::getPrefix" alt="" coords="211,5,325,33"/><area shape="rect" id="node11" href="class_model.html#a5d9919f58e4ce755aebb52fc53d5f76c" title="Model::quoteName" alt="" coords="203,55,333,83"/><area shape="rect" id="node5" href="class_model.html#a3d6598eab43e9d79525ceee3c5103edc" title="Model::dbo" alt="" coords="381,30,467,58"/><area shape="rect" id="node7" href="class_model.html#ae4ad496968b2957ec568e824e8f636fb" title="Model::setupDbo" alt="" coords="515,30,635,58"/><area shape="rect" id="node9" href="classclass_registry.html#a1619864201d4f4c9df8cb08ef05f7a09" title="classRegistry::getObject" alt="" coords="684,30,847,58"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac339a505325fbced540032c0da793b64"></a><!-- doxytag: member="Model::getWhereString" ref="ac339a505325fbced540032c0da793b64" args="($id, $tableName, $allowKey=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Model::getWhereString </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>allowKey</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>construct a suitable where-clause for a query from an array of conditions</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$id </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$tableName needed to generate a primary key name </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string full 'WHERE x=' string </dd></dl>

<p>Definition at line <a class="el" href="model_8php_source.html#l00321">321</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>

</div>
</div>
<a class="anchor" id="a112774fb82b3dbec49b222358b52c794"></a><!-- doxytag: member="Model::log" ref="a112774fb82b3dbec49b222358b52c794" args="($what, $where)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Model::log </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>what</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>where</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>convenience method for writeLog</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$what what to log </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$where where to log (KATA_DEBUG OR KATA_ERROR) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="model_8php_source.html#l00079">79</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>

</div>
</div>
<a class="anchor" id="a20a78c2526737da4653da2de47a8d04f"></a><!-- doxytag: member="Model::makeDateTime" ref="a20a78c2526737da4653da2de47a8d04f" args="($t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Model::makeDateTime </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>turn a unix timestamp into datetime-suitable SQL-function like FROM_UNIXTIME(timestamp) (depends on used dbo)</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>integer</em>&nbsp;</td><td>$t unix timestamp </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string sql-statement </dd></dl>

<p>Definition at line <a class="el" href="model_8php_source.html#l00286">286</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_model_a20a78c2526737da4653da2de47a8d04f_cgraph.png" border="0" usemap="#class_model_a20a78c2526737da4653da2de47a8d04f_cgraph" alt=""/></div>
<map name="class_model_a20a78c2526737da4653da2de47a8d04f_cgraph" id="class_model_a20a78c2526737da4653da2de47a8d04f_cgraph">
<area shape="rect" id="node3" href="class_model.html#a3d6598eab43e9d79525ceee3c5103edc" title="Model::dbo" alt="" coords="205,5,291,33"/><area shape="rect" id="node5" href="class_model.html#ae4ad496968b2957ec568e824e8f636fb" title="Model::setupDbo" alt="" coords="339,5,459,33"/><area shape="rect" id="node7" href="classclass_registry.html#a1619864201d4f4c9df8cb08ef05f7a09" title="classRegistry::getObject" alt="" coords="508,5,671,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a11e31c1446243b22ebec40168f23f13b"></a><!-- doxytag: member="Model::pairs" ref="a11e31c1446243b22ebec40168f23f13b" args="($params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Model::pairs </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>params</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>turn the given array into "name=value,name=value" pairs suitable for INSERT or UPDATE-sqls. strings are automatically quoted+escaped, fieldnames also</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$params the data </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string �foo�='bar',�baz�='ding' </dd></dl>

<p>Definition at line <a class="el" href="model_8php_source.html#l00296">296</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_model_a11e31c1446243b22ebec40168f23f13b_cgraph.png" border="0" usemap="#class_model_a11e31c1446243b22ebec40168f23f13b_cgraph" alt=""/></div>
<map name="class_model_a11e31c1446243b22ebec40168f23f13b_cgraph" id="class_model_a11e31c1446243b22ebec40168f23f13b_cgraph">
<area shape="rect" id="node3" href="class_model.html#a257876be5bf9db75d96451b43fdc016a" title="Model::quote" alt="" coords="147,5,243,33"/><area shape="rect" id="node13" href="class_model.html#a5d9919f58e4ce755aebb52fc53d5f76c" title="Model::quoteName" alt="" coords="291,55,421,83"/><area shape="rect" id="node5" href="class_model.html#ad50a61cc9500c68907f23d68daee6dfd" title="Model::escape" alt="" coords="303,5,409,33"/><area shape="rect" id="node7" href="class_model.html#a3d6598eab43e9d79525ceee3c5103edc" title="Model::dbo" alt="" coords="469,30,555,58"/><area shape="rect" id="node9" href="class_model.html#ae4ad496968b2957ec568e824e8f636fb" title="Model::setupDbo" alt="" coords="603,30,723,58"/><area shape="rect" id="node11" href="classclass_registry.html#a1619864201d4f4c9df8cb08ef05f7a09" title="classRegistry::getObject" alt="" coords="772,30,935,58"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5ec535675d29f74b1020aa9a895ca11c"></a><!-- doxytag: member="Model::query" ref="a5ec535675d29f74b1020aa9a895ca11c" args="($s=null, $idnames=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">&amp; Model::query </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>s</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idnames</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>execute an actual query on the database</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$s the sql to execute </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$idnames can be used to have the keys of the returned array equal the value ob the column given here (instead of just heaving 0..x as keys) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>mixed returns array with results OR integer with insertid OR integer updated rows OR null </dd></dl>

<p>Reimplemented in <a class="el" href="class_cluster_model.html#ae219ebbf76bf8cd6ea6c9c71fd618169">ClusterModel</a>.</p>

<p>Definition at line <a class="el" href="model_8php_source.html#l00202">202</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_model_a5ec535675d29f74b1020aa9a895ca11c_cgraph.png" border="0" usemap="#class_model_a5ec535675d29f74b1020aa9a895ca11c_cgraph" alt=""/></div>
<map name="class_model_a5ec535675d29f74b1020aa9a895ca11c_cgraph" id="class_model_a5ec535675d29f74b1020aa9a895ca11c_cgraph">
<area shape="rect" id="node3" href="class_model.html#a3d6598eab43e9d79525ceee3c5103edc" title="Model::dbo" alt="" coords="149,5,235,33"/><area shape="rect" id="node5" href="class_model.html#ae4ad496968b2957ec568e824e8f636fb" title="Model::setupDbo" alt="" coords="283,5,403,33"/><area shape="rect" id="node7" href="classclass_registry.html#a1619864201d4f4c9df8cb08ef05f7a09" title="classRegistry::getObject" alt="" coords="452,5,615,33"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_model_a5ec535675d29f74b1020aa9a895ca11c_icgraph.png" border="0" usemap="#class_model_a5ec535675d29f74b1020aa9a895ca11c_icgraph" alt=""/></div>
<map name="class_model_a5ec535675d29f74b1020aa9a895ca11c_icgraph" id="class_model_a5ec535675d29f74b1020aa9a895ca11c_icgraph">
<area shape="rect" id="node3" href="class_model.html#af0d5536c1011705e3b2704a6ee837e75" title="Model::cachedQuery" alt="" coords="149,5,291,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a257876be5bf9db75d96451b43fdc016a"></a><!-- doxytag: member="Model::quote" ref="a257876be5bf9db75d96451b43fdc016a" args="($s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Model::quote </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>s</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>enclose string in single-quotes AND escape it</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$s string to escape </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string quoted AND escaped string </dd></dl>

<p>Definition at line <a class="el" href="model_8php_source.html#l00266">266</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_model_a257876be5bf9db75d96451b43fdc016a_cgraph.png" border="0" usemap="#class_model_a257876be5bf9db75d96451b43fdc016a_cgraph" alt=""/></div>
<map name="class_model_a257876be5bf9db75d96451b43fdc016a_cgraph" id="class_model_a257876be5bf9db75d96451b43fdc016a_cgraph">
<area shape="rect" id="node3" href="class_model.html#ad50a61cc9500c68907f23d68daee6dfd" title="Model::escape" alt="" coords="149,5,256,33"/><area shape="rect" id="node5" href="class_model.html#a3d6598eab43e9d79525ceee3c5103edc" title="Model::dbo" alt="" coords="304,5,389,33"/><area shape="rect" id="node7" href="class_model.html#ae4ad496968b2957ec568e824e8f636fb" title="Model::setupDbo" alt="" coords="437,5,557,33"/><area shape="rect" id="node9" href="classclass_registry.html#a1619864201d4f4c9df8cb08ef05f7a09" title="classRegistry::getObject" alt="" coords="607,5,769,33"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_model_a257876be5bf9db75d96451b43fdc016a_icgraph.png" border="0" usemap="#class_model_a257876be5bf9db75d96451b43fdc016a_icgraph" alt=""/></div>
<map name="class_model_a257876be5bf9db75d96451b43fdc016a_icgraph" id="class_model_a257876be5bf9db75d96451b43fdc016a_icgraph">
<area shape="rect" id="node3" href="class_model.html#a11e31c1446243b22ebec40168f23f13b" title="Model::pairs" alt="" coords="151,5,241,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5d9919f58e4ce755aebb52fc53d5f76c"></a><!-- doxytag: member="Model::quoteName" ref="a5d9919f58e4ce755aebb52fc53d5f76c" args="($s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Model::quoteName </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>s</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>enclose table- or fildname in whatever the database needs (depends on used dbo)</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$s field or tablename </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string escaped name </dd></dl>

<p>Definition at line <a class="el" href="model_8php_source.html#l00276">276</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_model_a5d9919f58e4ce755aebb52fc53d5f76c_cgraph.png" border="0" usemap="#class_model_a5d9919f58e4ce755aebb52fc53d5f76c_cgraph" alt=""/></div>
<map name="class_model_a5d9919f58e4ce755aebb52fc53d5f76c_cgraph" id="class_model_a5d9919f58e4ce755aebb52fc53d5f76c_cgraph">
<area shape="rect" id="node3" href="class_model.html#a3d6598eab43e9d79525ceee3c5103edc" title="Model::dbo" alt="" coords="184,5,269,33"/><area shape="rect" id="node5" href="class_model.html#ae4ad496968b2957ec568e824e8f636fb" title="Model::setupDbo" alt="" coords="317,5,437,33"/><area shape="rect" id="node7" href="classclass_registry.html#a1619864201d4f4c9df8cb08ef05f7a09" title="classRegistry::getObject" alt="" coords="487,5,649,33"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_model_a5d9919f58e4ce755aebb52fc53d5f76c_icgraph.png" border="0" usemap="#class_model_a5d9919f58e4ce755aebb52fc53d5f76c_icgraph" alt=""/></div>
<map name="class_model_a5d9919f58e4ce755aebb52fc53d5f76c_icgraph" id="class_model_a5d9919f58e4ce755aebb52fc53d5f76c_icgraph">
<area shape="rect" id="node3" href="class_model.html#ac308b470fe9a7acd0b13754ac13e0160" title="Model::getTableName" alt="" coords="185,5,332,33"/><area shape="rect" id="node5" href="class_model.html#a11e31c1446243b22ebec40168f23f13b" title="Model::pairs" alt="" coords="213,55,304,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9c8ae3a5b6c6445fe06771b3d46b65bf"></a><!-- doxytag: member="Model::read" ref="a9c8ae3a5b6c6445fe06771b3d46b65bf" args="($id=null, $fields=null, $tableName=null, $fieldName=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Model::read </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>id</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>fields</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>fieldName</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>read data from the database.</p>
<p><code> $rows = $this-&gt;read(array('foobarId'=&gt;5)); $rows = $this-&gt;read(array( 'foobarId'=&gt;6, 'and', 'someId'=&gt;2 )); </code></p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$id array of fieldnames used to construct WHERE clause </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$fields return these colums (if null: all fields) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$tableName read from this table (if ommitted: use tablename of this model, including prefix) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$fieldName string or array to use as key for the returned result, see <a class="el" href="class_model.html#a5ec535675d29f74b1020aa9a895ca11c">query()</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="model_8php_source.html#l00620">620</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>

</div>
</div>
<a class="anchor" id="ae261c2777ad664badbcf2c24a1b681a4"></a><!-- doxytag: member="Model::replace" ref="ae261c2777ad664badbcf2c24a1b681a4" args="($fields=null, $tableName=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Model::replace </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>fields</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em> = <code>null</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>REPLACE works exactly like Insert, but removes previous entries.</p>
<p>Warning: if an old row in the table has the same value as a new row for a PRIMARY KEY or a UNIQUE index, the old row is deleted before the new row is inserted. In short: It may be that more than 1 row is deleted.</p>
<p><code> $this-&gt;replace(array( 'fooId'=&gt;10, 'data1'=&gt;20 )); </code></p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$id primary key of row to replace </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$fields name=&gt;value pairs of new values </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$table replace from this table (if ommitted: use tablename of this model, including prefix) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="model_8php_source.html#l00752">752</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>

</div>
</div>
<a class="anchor" id="ae4ad496968b2957ec568e824e8f636fb"></a><!-- doxytag: member="Model::setupDbo" ref="ae4ad496968b2957ec568e824e8f636fb" args="($connName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Model::setupDbo </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>connName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>load dbo-class, give dbconfig to class</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$connName name of the connection to use </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="model_8php_source.html#l00100">100</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_model_ae4ad496968b2957ec568e824e8f636fb_cgraph.png" border="0" usemap="#class_model_ae4ad496968b2957ec568e824e8f636fb_cgraph" alt=""/></div>
<map name="class_model_ae4ad496968b2957ec568e824e8f636fb_cgraph" id="class_model_ae4ad496968b2957ec568e824e8f636fb_cgraph">
<area shape="rect" id="node3" href="classclass_registry.html#a1619864201d4f4c9df8cb08ef05f7a09" title="classRegistry::getObject" alt="" coords="175,5,337,33"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_model_ae4ad496968b2957ec568e824e8f636fb_icgraph.png" border="0" usemap="#class_model_ae4ad496968b2957ec568e824e8f636fb_icgraph" alt=""/></div>
<map name="class_model_ae4ad496968b2957ec568e824e8f636fb_icgraph" id="class_model_ae4ad496968b2957ec568e824e8f636fb_icgraph">
<area shape="rect" id="node3" href="class_model.html#a8c2d5caf005161a4b6928914229aabfc" title="Model::changeConnection" alt="" coords="175,55,345,83"/><area shape="rect" id="node5" href="class_model.html#a3d6598eab43e9d79525ceee3c5103edc" title="Model::dbo" alt="" coords="217,106,303,134"/><area shape="rect" id="node7" href="class_model.html#ad50a61cc9500c68907f23d68daee6dfd" title="Model::escape" alt="" coords="417,5,524,33"/><area shape="rect" id="node13" href="class_model.html#a8ebd20a84ad992dff5621c24b9a342d8" title="Model::getPrefix" alt="" coords="413,55,528,83"/><area shape="rect" id="node17" href="class_model.html#a20a78c2526737da4653da2de47a8d04f" title="Model::makeDateTime" alt="" coords="395,106,547,134"/><area shape="rect" id="node19" href="class_model.html#a5ec535675d29f74b1020aa9a895ca11c" title="Model::query" alt="" coords="423,207,519,235"/><area shape="rect" id="node23" href="class_model.html#a5d9919f58e4ce755aebb52fc53d5f76c" title="Model::quoteName" alt="" coords="405,157,536,185"/><area shape="rect" id="node9" href="class_model.html#a257876be5bf9db75d96451b43fdc016a" title="Model::quote" alt="" coords="621,11,717,39"/><area shape="rect" id="node11" href="class_model.html#a11e31c1446243b22ebec40168f23f13b" title="Model::pairs" alt="" coords="793,71,884,99"/><area shape="rect" id="node15" href="class_model.html#ac308b470fe9a7acd0b13754ac13e0160" title="Model::getTableName" alt="" coords="596,69,743,97"/><area shape="rect" id="node21" href="class_model.html#af0d5536c1011705e3b2704a6ee837e75" title="Model::cachedQuery" alt="" coords="599,207,740,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a824e09eaf56c56735787ccd07590abb4"></a><!-- doxytag: member="Model::update" ref="a824e09eaf56c56735787ccd07590abb4" args="($id=null, $fields, $tableName=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Model::update </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>id</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em> = <code>null</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>update a row whose id is matching.</p>
<p><code> $this-&gt;update(array( 'fooId'=&gt;10, 'data1'=&gt;20 )); </code></p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$id primary array of fields suitable to construct a WHERE clause </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$fields name=&gt;value pairs of new values </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$tableName update data in this table (if ommitted: use tablename of this model, including prefix) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="model_8php_source.html#l00719">719</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>

</div>
</div>
<a class="anchor" id="a2c4134537435a400d00ed6e085d0f135"></a><!-- doxytag: member="Model::validate" ref="a2c4134537435a400d00ed6e085d0f135" args="($params=null, $what=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Model::validate </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>params</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>what</em> = <code>null</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>checks the given values of the array match certain criterias</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$params key/value pair. key is the name of the key inside the $what-array, value is a "VALID_" define (see above) OR the name of a (global) function that is given the string (should return bool wether the string validates) OR a regex string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$what the actual data, eg. GET/POST parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>bool true if everything is okay OR $params-array-key of the row that is not validating </dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000008">Deprecated:</a></b></dt><dd>31.04.2009 </dd></dl>

<p>Definition at line <a class="el" href="model_8php_source.html#l00793">793</a> of file <a class="el" href="model_8php_source.html">model.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="model_8php_source.html">model.php</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
